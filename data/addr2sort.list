0000 D3 FD
0002 01 FF 7F
0005 C3 CB 03
0008 2A 16 40
000B 22 18 40
000E 18 46
0010 A7
0011 C2 F1 07
0014 C3 F5 07
0018 2A 16 40     ld hl,(CH_ADD)
001B 7E           ld a,(hl)
001C A7           and a
001D C0           ret nz
001E 00           nop
001F 00           nop
0020 CD 49 00     call SUB_0049
0023 18 F7        jr LBL_001C
0028 C3 9D 19     jp SUB_199D
002B F1           pop af
002C D9           exx
002D E3           ex (sp),hl
002E D9           exx
002F C9           ret
0030 C5           push bc
0031 2A 14 40     ld hl,(E_LINE)
0034 E5           push hl
0035 C3 88 14     jp SUB_1488
0038 0D           dec c
0039 C2 45 00     jp nz,LBL_0045
003C E1           pop hl
003D 05           dec b
003E C8           ret z
003F CB D9        set 3,c
0041 ED 4F        ld r,a
0043 FB           ei
0044 E9           jp (hl)
0045 D1           pop de
0046 C8           ret z
0047 18 F8        jr LBL_0041
0049 2A 16 40     ld hl,(CH_ADD)
004C 23           inc hl
004D 22 16 40     ld (CH_ADD),hl
0050 7E
0051 FE 7F
0053 C0
0054 18 F6
0056 E1
0057 6E
0058 FD 75 00
005B ED 7B 02 40
005F CD 07 02
0062 C3 BC 14
0066 08           ex af,af'
0067 3C           inc a
0068 FA 6D 00     jp m,LBL_006D
006B 28 02        jr z,LBL_006F
006D 08           ex af,af'
006E C9           ret
006F 08           ex af,af'
0070 F5           push af
0071 C5           push bc
0072 D5           push de
0073 E5           push hl
0074 2A 0C 40     ld hl,(D_FILE)
0077 CB FC        set 7,h
0079 76           halt
007A D3 FD        out (00FDh),a
007C DD E9        jp (ix)
01FC 23           inc hl
01FD EB           ex de,hl
01FE 2A 14 40     ld hl,(E_LINE)
0201 37           scf
0202 ED 52        sbc hl,de
0204 EB           ex de,hl
0205 D0           ret nc
0206 E1           pop hl
0207 21 3B 40
020A 7E
020B 17
020C AE
020D 17
020E D0
020F 3E 7F
0211 08
0212 06 11
0214 D3 FE
0216 10 FE
0218 D3 FD
021A 08
021B 17
021C 30 08
021E CB FE
0220 F5
0221 C5
0222 D5
0223 E5
0224 18 03
0226 CB B6
0228 C9
0229 2A 34 40
022C 2B
022D 3E 7F
022F A4
0230 B5
0231 7C
0232 20 03
0234 17
0235 18 02
0237 46
0238 37
0239 67
023A 22 34 40
023D D0
023E CD BB 02
0241 ED 4B 25 40
0245 22 25 40
0248 78
0249 C6 02
024B ED 42
024D 3A 27 40
0250 B4
0251 B5
0252 58
0253 06 0B
0255 21 3B 40
0258 CB 86
025A 20 08
025C CB 7E
025E CB C6
0260 C8
0261 05
0262 00
0263 37
0264 21 27 40
0267 3F
0268 CB 10
026A 10 FE
026C 46
026D 7B
026E FE FE
0270 9F
0271 06 1F
0273 B6
0274 A0
0275 1F
0276 77
0277 D3 FF
0279 2A 0C 40
027C CB FC
027E CD 92 02
0281 ED 5F
0283 01 01 19
0286 3E F5
0288 CD B5 02
028B 2B
028C CD 92 02
028F C3 29 02
0292 DD E1
0294 FD 4E 28
0297 FD CB 3B 7E
029B 28 0C
029D 79
029E ED 44
02A0 3C
02A1 08
02A2 D3 FE
02A4 E1
02A5 D1
02A6 C1
02A7 F1
02A8 C9
02A9 3E FC
02AB 06 01
02AD CD B5 02
02B0 2B
02B1 E3
02B2 E3
02B3 DD E9
02B5 ED 4F
02B7 3E DD
02B9 FB
02BA E9
02BB 21 FF FF
02BE 01 FE FE
02C1 ED 78
02C3 F6 01
02C5 F6 E0
02C7 57
02C8 2F
02C9 FE 01
02CB 9F
02CC B0
02CD A5
02CE 6F
02CF 7C
02D0 A2
02D1 67
02D2 CB 00
02D4 ED 78
02D6 38 ED
02D8 1F
02D9 CB 14
02DB 17
02DC 17
02DD 17
02DE 9F
02DF E6 18
02E1 C6 1F
02E3 32 28 40
02E6 C9
02E7 FD CB 3B 7E
02EB C8
02EC 76
02ED D3 FD
02EF FD CB 3B BE
02F3 C9
02F4 CF           rst RST_08
02F6 CD A8 03     call SUB_03A8
02F9 38 F9        jr c,LBL_02F4
02FB EB           ex de,hl
02FC 11 CB 12     ld de,12CBh
02FF CD 46 0F     call SUB_0F46
0302 30 2E        jr nc,SUB_031E.L1
0304 10 FE        djnz LBL_0304
0306 1B           dec de
0307 7A           ld a,d
0308 B3           or e
0309 20 F4        jr nz,LBL_02FF
030B CD 1E 03     call SUB_031E
030E CB 7E        bit 7,(hl)
0310 23           inc hl
0311 28 F8        jr z,LBL_030B
0313 21 09 40     ld hl,VERSN
0316 CD 1E 03     call SUB_031E
0319 CD FC 01     call SUB_01FC
031C 18 F8        jr LBL_0316
031E 5E           ld e,(hl)
031F 37           scf
0320 CB 13        rl e
0322 C8           ret z
0323 9F           sbc a,a
0324 E6 05        and 05h
0326 C6 04        add a,04h
0328 4F           ld c,a
0329 D3 FF        out (00FFh),a
032B 06 23        ld b,23h
032D 10 FE        djnz .LOOP3
032F CD 46 0F     call SUB_0F46
0332 30 72        jr nc,LBL_03A6
0334 06 1E        ld b,1Eh
0336 10 FE        djnz .LOOP4
0338 0D           dec c
0339 20 EE        jr nz,.LOOP2
033B A7           and a
033C 10 FD        djnz .LOOP5
033E 18 E0        jr .LOOP1
0340 CD A8 03     call SUB_03A8
0343 CB 12        rl d
0345 CB 0A        rrc d
0347 CD 4C 03     call SUB_034C
034A 18 FB        jr LBL_0347
034C 0E 01        ld c,01h
034E 06 00        ld b,00h
0350 3E 7F        ld a,7Fh
0352 DB FE        in a,(00FEh)
0354 D3 FF        out (00FFh),a
0356 1F           rra
0357 30 49        jr nc,.L5
0359 17           rla
035A 17           rla
035B 38 28        jr c,.L3
035D 10 F1        djnz .LOOP2
035F F1           pop af
0360 BA           cp d
0361 D2 E5 03     jp nc,LBL_03E5
0364 62           ld h,d
0365 6B           ld l,e
0366 CD 4C 03     call SUB_034C
0369 CB 7A        bit 7,d
036B 79           ld a,c
036C 20 03        jr nz,.L2
036E BE           cp (hl)
036F 20 D6        jr nz,LBL_0347
0371 23           inc hl
0372 17           rla
0373 30 F1        jr nc,.LOOP3
0375 FD 34 15     inc (iy+21)
0378 21 09 40     ld hl,VERSN
037B 50           ld d,b
037C CD 4C 03     call SUB_034C
037F 71           ld (hl),c
0380 CD FC 01     call SUB_01FC
0383 18 F6        jr .LOOP4
0385 D5           push de
0386 1E 94        ld e,94h
0388 06 1A        ld b,1Ah
038A 1D           dec e
038B DB FE        in a,(00FEh)
038D 17           rla
038E CB 7B        bit 7,e
0390 7B           ld a,e
0391 38 F5        jr c,.LOOP5
0393 10 F5        djnz .LOOP6
0395 D1           pop de
0396 20 04        jr nz,.L4
0398 FE 56        cp 56h
039A 30 B2        jr nc,.LOOP1
039C 3F           ccf
039D CB 11        rl c
039F 30 AD        jr nc,.LOOP1
03A1 C9           ret
03A2 7A           ld a,d
03A3 A7           and a
03A4 28 BB        jr z,.L1
03A6 CF           rst RST_08
03A8 CD 55 0F     call SUB_0F55
03AB 3A 01 40     ld a,(DATA_4001)
03AE 87           add a,a
03AF FA 9A 0D     jp m,SUB_0D92.L1
03B2 E1           pop hl
03B3 D0           ret nc
03B4 E5           push hl
03B5 CD E7 02     call SUB_02E7
03B8 CD F8 13     call SUB_13F8
03BB 62           ld h,d
03BC 6B           ld l,e
03BD 0D           dec c
03BE F8           ret m
03BF 09           add hl,bc
03C0 CB FE        set 7,(hl)
03C2 C9           ret
03C3 CD E7 02     call SUB_02E7
03C6 ED 4B 04 40  ld bc,(DATA_4004)
03CA 0B           dec bc
03CB 60
03CC 69
03CD 3E 3F
03CF 36 02
03D1 2B
03D2 BC
03D3 20 FA
03D5 A7
03D6 ED 42
03D8 09
03D9 23
03DA 30 06
03DC 35
03DD 28 03
03DF 35
03E0 28 F3
03E2 22 04 40
03E5 2A 04 40
03E8 2B
03E9 36 3E
03EB 2B
03EC F9
03ED 2B
03EE 2B
03EF 22 02 40
03F2 3E 1E
03F4 ED 47
03F6 ED 56
03F8 FD 21 00 40
03FC FD 36 3B 40
0400 21 7D 40
0403 22 0C 40
0406 06 19
0408 36 76
040A 23
040B 10 FB
040D 22 10 40
0410 CD 9A 14
0413 CD AD 14
0416 CD 07 02
0419 CD 2A 0A
041C 2A 0A 40
041F ED 5B 23 40
0423 A7
0424 ED 52
0426 EB
0427 30 04
0429 19
042A 22 23 40
042D CD D8 09
0430 28 01
0432 EB
0433 CD 3E 07
0436 FD 35 1E
0439 20 37
043B 2A 0A 40
043E CD D8 09
0441 2A 16 40
0444 37
0445 ED 52
0447 21 23 40
044A 30 0B
044C EB
044D 7E
044E 23
044F ED A0
0451 12
0452 18 C5
0457 5E
0458 23
0459 56
045A E5
045B EB
045C 23
045D CD D8 09
0460 CD BB 05
0463 E1
0464 FD CB 2D 6E
0468 20 08
046A 72
046B 2B
046C 73
046D 18 AA
0472 2A 14 40
0475 7E
0476 FE 7E
0478 20 08
047A 01 06 00
047D CD 60 0A
0480 18 F3
0482 FE 76
0484 23
0485 20 EE
0487 CD 37 05
048A CD 1F 0A
048D 2A 14 40
0490 FD 36 00 FF
0494 CD 66 07
0497 FD CB 00 7E
049B 20 24
049D 3A 22 40
04A0 FE 18
04A2 30 1D
04A4 3C
04A5 32 22 40
04A8 47
04A9 0E 01
04AB CD 18 09
04AE 54
04AF 5D
04B0 7E
04B1 2B
04B2 BE
04B3 20 FC
04B5 23
04B6 EB
04B7 3A 05 40
04BA FE 4D
04BC DC 5D 0A
04BF 18 C9
04C1 21 00 00
04C4 22 18 40
04C7 21 3B 40
04CA CB 7E
04CC CC 29 02
04CF CB 46
04D1 28 FC
04D3 ED 4B 25 40
04D7 CD 4B 0F
04DA CD BD 07
04DD 30 93
04DF 3A 06 40
04E2 3D
04E3 FA 08 05
04E6 20 0F
04E8 32 06 40
04EB 1D
04EC 7B
04ED D6 27
04EF 38 01
04F1 5F
04F2 21 CC 00
04F5 18 0E
04F7 7E
04F8 FE 76
04FA 28 2F
04FC FE 40
04FE CB FF
0500 38 19
0502 21 C7 00
0505 19
0506 18 0D
0508 7E
0509 FD CB 01 56
050D 20 07
050F C6 C0
0511 FE E6
0513 30 01
0515 7E
0516 FE F0
0518 EA 2D 05
051B 5F
051C CD 37 05
051F 7B
0520 CD 26 05
0523 C3 72 04
0526 CD 9B 09
0529 12
052A C9
052B 3E 78
052D 5F
052E 21 82 04
0531 19
0532 19
0533 4E
0534 23
0535 46
0536 C5
0537 2A 14 40
053A FD CB 2D 6E
053E 20 16
0540 FD CB 01 96
0544 7E
0545 FE 7F
0547 C8
0548 23
0549 CD B4 07
054C 28 F6
054E FE 26
0550 38 F2
0552 FE DE
0554 28 EA
0556 FD CB 01 D6
055A 18 E8
055C 01 01 00     ld bc,0001h
055F C3 60 0A     jp SUB_0A60
0576 CD 93 05     call SUB_0593
0579 7E           ld a,(hl)
057A 36 7F        ld (hl),7Fh
057C 23           inc hl
057D 18 09        jr LBL_0588
057F 23           inc hl
0580 7E           ld a,(hl)
0581 FE 76        cp 76h
0583 28 18        jr z,LBL_059D
0585 36 7F        ld (hl),7Fh
0587 2B           dec hl
0588 77           ld (hl),a
0589 18 98        jr LBL_0472.L10
058B CD 93 05     call SUB_0593
058E CD 5C 05     call SUB_055C
0591 18 F6        jr LBL_0589
0593 2B           dec hl
0594 ED 5B 14 40  ld de,(E_LINE)
0598 1A           ld a,(de)
0599 FE 7F        cp 7Fh
059B C0           ret nz
059C D1           pop de
059D 18 EA        jr LBL_0588.L1
059F 2A 0A 40     ld hl,(E_PPC)
05A2 CD D8 09     call SUB_09D8
05A5 EB           ex de,hl
05A6 CD BB 05     call SUB_05BB
05A9 21 0B 40     ld hl,400Bh
05AC C3 64 04     jp LBL_0457.L1
05AF 7B           ld a,e
05B0 E6 07        and 07h
05B2 32 06 40     ld (DATA_4006),a
05B5 18 E6        jr LBL_059D
05B7 EB
05B8 11 C2 04
05BB 7E
05BC E6 C0
05BE 20 F7
05C0 56
05C1 23
05C2 5E
05C3 C9
05C4 CD 1F 0A     call SUB_0A1F
05C7 21 6F 04     ld hl,046Fh
05CA E5           push hl
05CB FD CB 2D 6E  bit 5,(iy+45)
05CF C0           ret nz
05D0 2A 14 40     ld hl,(E_LINE)
05D3 22 0E 40     ld (DF_CC),hl
05D6 21 21 18     ld hl,1821h
05D9 22 39 40     ld (S_POSN),hl
05DC 2A 0A 40     ld hl,(E_PPC)
05DF CD D8 09     call SUB_09D8
05E2 CD BB 05     call SUB_05BB
05E5 7A           ld a,d
05E6 B3           or e
05E7 C8           ret z
05E8 2B           dec hl
05E9 CD A5 0A     call SUB_0AA5
05EC 23           inc hl
05ED 4E           ld c,(hl)
05EE 23           inc hl
05EF 46           ld b,(hl)
05F0 23           inc hl
05F1 ED 5B 0E 40  ld de,(DF_CC)
05F5 3E 7F        ld a,7Fh
05F7 12           ld (de),a
05F8 13           inc de
05F9 E5           push hl
05FA 21 1D 00     ld hl,001Dh
05FD 19           add hl,de
05FE 09           add hl,bc
05FF ED 72        sbc hl,sp
0601 E1           pop hl
0602 D0           ret nc
0603 ED B0        ldir
0605 EB           ex de,hl
0606 D1           pop de
0607 CD A6 14     call SUB_14A6
060A 18 91        jr LBL_059D
060C CD 1F 0A     call SUB_0A1F
060F 21 72 04     ld hl,LBL_0472
0612 FD CB 2D 6E  bit 5,(iy+45)
0616 20 11        jr nz,LBL_0629
0618 2A 14 40     ld hl,(E_LINE)
061B 7E           ld a,(hl)
061C FE FF        cp 0FFh
061E 28 06        jr z,LBL_0626
0620 CD E2 08     call SUB_08E2
0623 CD 2A 0A     call SUB_0A2A
0626 21 19 04     ld hl,LBL_0413.LOOP
0629 E5           push hl
062A CD BA 0C     call SUB_0CBA
062D E1           pop hl
062E CD 37 05     call SUB_0537
0631 CD 5C 05     call SUB_055C
0634 CD 73 0A     call SUB_0A73
0637 20 15        jr nz,LBL_064E
0639 78           ld a,b
063A B1           or c
063B C2 E0 06     jp nz,LBL_06E0
063E 0B           dec bc
063F 0B           dec bc
0640 ED 43 07 40  ld (DATA_4007),bc
0644 FD 36 22 02  ld (iy+34),02h
0648 ED 5B 0C 40  ld de,(D_FILE)
064C 18 13        jr LBL_0661
064E FE 76        cp 76h
0650 28 12        jr z,LBL_0664
0652 ED 4B 30 40  ld bc,(T_ADDR)
0656 CD 18 09     call SUB_0918
0659 ED 5B 29 40  ld de,(NXTLIN)
065D FD 36 22 02  ld (iy+34),02h
0661 DF           rst RST_18
0662 FE 76        cp 76h
0664 CA 13 04     jp z,LBL_0413
0667 FD 36 01 80  ld (iy+1),80h
066B EB           ex de,hl
066C 22 29 40     ld (NXTLIN),hl
066F EB           ex de,hl
0670 CD 4D 00     call SUB_004D
0673 CD C1 0C     call SUB_0CC1
0676 FD CB 01 8E  res 1,(iy+1)
067A 3E C0        ld a,0C0h
067C FD 77 19     ld (iy+25),a
067F CD A3 14     call SUB_14A3
0682 FD CB 2D AE  res 5,(iy+45)
0686 FD CB 00 7E  bit 7,(iy+0)
068A 28 22        jr z,LBL_06AE
068C 2A 29 40     ld hl,(NXTLIN)
068F A6           and (hl)
0690 20 1C        jr nz,LBL_06AE
0692 56           ld d,(hl)
0693 23           inc hl
0694 5E           ld e,(hl)
0695 ED 53 07 40  ld (DATA_4007),de
0699 23           inc hl
069A 5E           ld e,(hl)
069B 23           inc hl
069C 56           ld d,(hl)
069D 23           inc hl
069E EB           ex de,hl
069F 19           add hl,de
06A0 CD 46 0F     call SUB_0F46
06A3 38 C7        jr c,LBL_066C
06A5 21 00 40     ld hl,DATA_4000
06A8 CB 7E        bit 7,(hl)
06AA 28 02        jr z,LBL_06AE
06AC 36 0C        ld (hl),0Ch
06AE FD CB 38 7E  bit 7,(iy+56)
06B2 CC 71 08     call z,SUB_0871
06B5 01 21 01     ld bc,0121h
06B8 CD 18 09     call SUB_0918
06BB 3A 00 40     ld a,(DATA_4000)
06BE ED 4B 07 40  ld bc,(DATA_4007)
06C2 3C           inc a
06C3 28 0C        jr z,LBL_06D1
06C5 FE 09        cp 09h
06C7 20 01        jr nz,LBL_06CA
06C9 03           inc bc
06CA ED 43 2B 40  ld (OLDPPC),bc
06CE 20 01        jr nz,LBL_06D1
06D0 0B           dec bc
06D1 CD EB 07     call SUB_07EB
06D4 3E 18        ld a,18h
06D6 D7           rst RST_10
06D7 CD 98 0A     call SUB_0A98
06DA CD AD 14     call SUB_14AD
06DD C3 C1 04     jp LBL_0472.L2
06E0 ED 43 0A 40  ld (E_PPC),bc
06E4 2A 16 40     ld hl,(CH_ADD)
06E7 EB           ex de,hl
06E8 21 13 04     ld hl,LBL_0413
06EB E5           push hl
06EC 2A 1A 40     ld hl,(STKBOT)
06EF ED 52        sbc hl,de
06F1 E5           push hl
06F2 C5           push bc
06F3 CD E7 02     call SUB_02E7
06F6 CD 2A 0A     call SUB_0A2A
06F9 E1           pop hl
06FA CD D8 09     call SUB_09D8
06FD 20 06        jr nz,LBL_0705
06FF CD F2 09     call SUB_09F2
0702 CD 60 0A     call SUB_0A60
0705 C1           pop bc
0706 79           ld a,c
0707 3D           dec a
0708 B0           or b
0709 C8           ret z
070A C5           push bc
070B 03           inc bc
070C 03           inc bc
070D 03           inc bc
070E 03           inc bc
070F 2B           dec hl
0710 CD 9E 09     call SUB_099E
0713 CD 07 02     call SUB_0207
0716 C1           pop bc
0717 C5           push bc
0718 13           inc de
0719 2A 1A 40     ld hl,(STKBOT)
071C 2B           dec hl
071D ED B8        lddr
071F 2A 0A 40     ld hl,(E_PPC)
0722 EB           ex de,hl
0723 C1           pop bc
0724 70           ld (hl),b
0725 2B           dec hl
0726 71           ld (hl),c
0727 2B           dec hl
0728 73           ld (hl),e
0729 2B           dec hl
072A 72           ld (hl),d
072B C9           ret
072C FD CB 01 CE  set 1,(iy+1)
0730 CD A7 0E     call SUB_0EA7
0733 78           ld a,b
0734 E6 3F        and 3Fh
0736 67           ld h,a
0737 69           ld l,c
0738 22 0A 40     ld (E_PPC),hl
073B CD D8 09     call SUB_09D8
073E 1E 00
0740 CD 45 07
0743 18 FB
0745 ED 4B 0A 40
0749 CD EA 09
074C 16 92
074E 28 05
0750 11 00 00
0753 CB 13
0755 FD 73 1E
0758 7E
0759 FE 40
075B C1
075C D0
075D C5
075E CD A5 0A
0761 23
0762 7A
0763 D7
0764 23
0765 23
0766 22 16 40
0769 FD CB 01 C6
076D ED 4B 18 40
0771 2A 16 40
0774 A7
0775 ED 42
0777 20 03
0779 3E B8
077B D7
077C 2A 16 40
077F 7E
0780 23
0781 CD B4 07
0784 22 16 40
0787 28 E4
0789 FE 7F
078B 28 10
078D FE 76
078F 28 5D
0791 CB 77
0793 28 05
0795 CD 4B 09
0798 18 D3
079A D7
079B 18 D0
079D 3A 06 40
07A0 06 AB
07A2 A7
07A3 20 05
07A5 3A 01 40
07A8 06 B0
07AA 1F
07AB 1F
07AC E6 01
07AE 80
07AF CD F5 07
07B2 18 B9
07B4 FE 7E
07B6 C0
07B7 23
07B8 23
07B9 23
07BA 23
07BB 23
07BC C9
07BD 16 00
07BF CB 28
07C1 9F
07C2 F6 26
07C4 2E 05
07C6 95
07C7 85
07C8 37
07C9 CB 19
07CB 38 FA
07CD 0C
07CE C0
07CF 48
07D0 2D
07D1 2E 01
07D3 20 F2
07D5 21 7D 00
07D8 5F
07D9 19
07DA 37
07DB C9
07DC 7B
07DD A7
07DE F8
07DF 18 10
07E1 AF
07E2 09
07E3 3C
07E4 38 FC
07E6 ED 42
07E8 3D
07E9 28 F1
07EB 1E 1C
07ED 83
07EE A7
07EF 28 04
07F1 FD CB 01 86
07F5 D9
07F6 E5
07F7 FD CB 01 4E
07FB 20 05
07FD CD 08 08
0800 18 03
0802 CD 51 08
0805 E1
0806 D9
0807 C9
0808 57
0809 ED 4B 39 40
080D 79
080E FE 21
0810 28 1A
0812 3E 76
0814 BA
0815 28 30
0817 2A 0E 40
081A BE
081B 7A
081C 20 20
081E 0D
081F 20 19
0821 23
0822 22 0E 40
0825 0E 21
0827 05
0828 ED 43 39 40
082C 78
082D FD BE 22
0830 28 03
0832 A7
0833 20 DD
0835 2E 04
0837 C3 58 00
083A CD 9B 09
083D EB
083E 77
083F 23
0840 22 0E 40
0843 FD 35 39
0846 C9
0847 0E 21
0849 05
084A FD CB 01 C6
084E C3 18 09
0851 FE 76
0853 28 1C
0855 4F
0856 3A 38 40
0859 E6 7F
085B FE 5C
085D 6F
085E 26 40
0860 CC 71 08
0863 71
0864 2C
0865 FD 75 38
0868 C9
0871 16 01
0873 21 3C 40
0876 CD E7 02
0879 C5
087A E5
087B AF
087C 5F
087D D3 FB
087F E1
0880 CD 46 0F
0883 38 05
0885 1F
0886 D3 FB
0888 CF
0889 0C
088A DB FB
088C 87
088D FA DE 08
0890 30 EE
0892 E5
0893 D5
0894 7A
0895 FE 02
0897 9F
0898 A3
0899 07
089A A3
089B 57
089C 4E
089D 79
089E 23
089F FE 76
08A1 28 24
08A3 E5
08A4 CB 27
08A6 87
08A7 87
08A8 26 0F
08AA CB 14
08AC 83
08AD 6F
08AE CB 11
08B0 9F
08B1 AE
08B2 4F
08B3 06 08
08B5 7A
08B6 CB 01
08B8 1F
08B9 67
08BA DB FB
08BC 1F
08BD 30 FB
08BF 7C
08C0 D3 FB
08C2 10 F1
08C4 E1
08C5 18 D5
08C7 DB FB
08C9 1F
08CA 30 FB
08CC 7A
08CD 0F
08CE D3 FB
08D0 D1
08D1 1C
08D2 CB 5B
08D4 28 A7
08D6 C1
08D7 15
08D8 20 A0
08DA 3E 04
08DC D3 FB
08DE CD 07 02
08E1 C1
08E2 21 5C 40
08E5 36 76
08E7 06 20
08E9 2B
08EA 36 00
08EC 10 FB
08EE 7D
08EF CB FF
08F1 32 38 40
08F4 C9
08F5 3E 17        ld a,17h
08F7 90           sub b
08F8 38 0B        jr c,.L1
08FA FD BE 22     cp (iy+34)
08FD DA 35 08     jp c,SUB_0808.L2
0900 3C           inc a
0901 47           ld b,a
0902 3E 1F        ld a,1Fh
0904 91           sub c
0905 DA AD 0E     jp c,SUB_0EA7.L1
0908 C6 02        add a,02h
090A 4F           ld c,a
090B FD CB 01 4E  bit 1,(iy+1)
090F 28 07        jr z,.L2
0911 3E 5D        ld a,5Dh
0913 91           sub c
0914 32 38 40     ld (PR_CC),a
0917 C9           ret
0918 ED 43 39 40
091C 2A 10 40
091F 51
0920 3E 22
0922 91
0923 4F
0924 3E 76
0926 04
0927 2B
0928 BE
0929 20 FC
092B 10 FA
092D 23
092E ED B1
0930 2B
0931 22 0E 40
0934 37
0935 E0
0936 15
0937 C8
0938 C5
0939 CD 9E 09
093C C1
093D 41
093E 62
093F 6B
0940 36 00
0942 2B
0943 10 FB
0945 EB
0946 23
0947 22 0E 40
094A C9
094B F5
094C CD 75 09
094F 30 08
0951 FD CB 01 46
0955 20 02
0957 AF
0958 D7
0959 0A
095A E6 3F
095C D7
095D 0A
095E 03
095F 87
0960 30 F7
0962 C1
0963 CB 78
0965 C8
0966 FE 1A
0968 28 03
096A FE 38
096C D8
096D AF
096E FD CB 01 C6
0972 C3 F5 07
0975 E5
0976 21 11 01
0979 CB 7F
097B 28 02
097D E6 3F
097F FE 43
0981 30 10
0983 47
0984 04
0985 CB 7E
0987 23
0988 28 FB
098A 10 F9
098C CB 77
098E 20 02
0990 FE 18
0992 3F
0993 44
0994 4D
0995 E1
0996 D0
0997 0A
0998 C6 E4
099A C9
099B 01 01 00
099E E5
099F CD C5 0E
09A2 E1
09A3 CD AD 09
09A6 2A 1C 40
09A9 EB
09AA ED B8
09AC C9
09AD F5
09AE E5
09AF 21 0C 40
09B2 3E 09
09B4 5E
09B5 23
09B6 56
09B7 E3
09B8 A7
09B9 ED 52
09BB 19
09BC E3
09BD 30 09
09BF D5
09C0 EB
09C1 09
09C2 EB
09C3 72
09C4 2B
09C5 73
09C6 23
09C7 D1
09C8 23
09C9 3D
09CA 20 E8
09CC EB
09CD D1
09CE F1
09CF A7
09D0 ED 52
09D2 44
09D3 4D
09D4 03
09D5 19
09D6 EB
09D7 C9
09D8 E5
09D9 21 7D 40
09DC 54
09DD 5D
09DE C1
09DF CD EA 09
09E2 D0
09E3 C5
09E4 CD F2 09
09E7 EB
09E8 18 F4
09EA 7E
09EB B8
09EC C0
09ED 23
09EE 7E
09EF 2B
09F0 B9
09F1 C9
09F2 E5
09F3 7E
09F4 FE 40
09F6 38 17
09F8 CB 6F
09FA 28 14
09FC 87
09FD FA 01 0A
0A00 3F
0A01 01 05 00
0A04 30 02
0A06 0E 11
0A08 17
0A09 23
0A0A 7E
0A0B 30 FB
0A0D 18 06
0A0F 23
0A10 23
0A11 4E
0A12 23
0A13 46
0A14 23
0A15 09
0A16 D1
0A17 A7
0A18 ED 52
0A1A 44
0A1B 4D
0A1C 19
0A1D EB
0A1E C9
0A1F FD 46 22
0A22 C5
0A23 CD 2C 0A
0A26 C1
0A27 05
0A28 18 02
0A2A 06 18
0A2C FD CB 01 8E
0A30 0E 21
0A32 C5
0A33 CD 18 09
0A36 C1
0A37 3A 05 40
0A3A FE 4D
0A3C 38 14
0A3E FD CB 3A FE
0A42 AF
0A43 CD F5 07
0A46 2A 39 40
0A49 7D
0A4A B4
0A4B E6 7E
0A4D 20 F3
0A4F C3 18 09
0A52 54
0A53 5D
0A54 2B
0A55 48
0A56 06 00
0A58 ED B0
0A5A 2A 10 40
0A5D CD 17 0A
0A60 C5
0A61 78
0A62 2F
0A63 47
0A64 79
0A65 2F
0A66 4F
0A67 03
0A68 CD AD 09
0A6B EB
0A6C E1
0A6D 19
0A6E D5
0A6F ED B0
0A71 E1
0A72 C9
0A73 2A 14 40     ld hl,(E_LINE)
0A76 CD 4D 00     call SUB_004D
0A79 DF           rst RST_18
0A7A FD CB 2D 6E  bit 5,(iy+45)
0A7E C0           ret nz
0A7F 21 5D 40     ld hl,MEMBOT
0A82 22 1C 40     ld (STKEND),hl
0A85 CD 48 15     call SUB_1548
0A88 CD 8A 15     call SUB_158A
0A8B 38 04        jr c,.L1
0A8D 21 F0 D8     ld hl,0D8F0h
0A90 09           add hl,bc
0A91 DA 9A 0D     jp c,SUB_0D92.L1
0A94 BF           cp a
0A95 C3 BC 14     jp SUB_14BC
0A98 D5           push de
0A99 E5           push hl
0A9A AF           xor a
0A9B CB 78        bit 7,b
0A9D 20 20        jr nz,SUB_0AA5.L2
0A9F 60           ld h,b
0AA0 69           ld l,c
0AA1 1E FF        ld e,0FFh
0AA3 18 08        jr SUB_0AA5.L1
0AA5 D5
0AA6 56
0AA7 23
0AA8 5E
0AA9 E5
0AAA EB
0AAB 1E 00
0AAD 01 18 FC
0AB0 CD E1 07
0AB3 01 9C FF
0AB6 CD E1 07
0AB9 0E F6
0ABB CD E1 07
0ABE 7D
0ABF CD EB 07
0AC2 E1
0AC3 D1
0AC4 C9
0AC5 CD A6 0D     call SUB_0DA6
0AC8 E1           pop hl
0AC9 C8           ret z
0ACA E9           jp (hl)
0ACB FD CB 01 CE  set 1,(iy+1)
0ACF 7E           ld a,(hl)
0AD0 FE 76        cp 76h
0AD2 CA 84 0B     jp z,SUB_0B84
0AD5 D6 1A        sub 1Ah
0AD7 CE 00        adc a,00h
0AD9 28 69        jr z,LBL_0B44
0ADB FE A7        cp 0A7h
0ADD 20 1B        jr nz,LBL_0AFA
0ADF E7           rst RST_20
0AE0 CD 92 0D     call SUB_0D92
0AE3 FE 1A        cp 1Ah
0AE5 C2 9A 0D     jp nz,SUB_0D92.L1
0AE8 E7           rst RST_20
0AE9 CD 92 0D     call SUB_0D92
0AEC CD 4E 0B     call SUB_0B4E
0AEF EF           rst RST_28
0AF2 CD F5 0B     call SUB_0BF5
0AF5 CD F5 08     call SUB_08F5
0AF8 18 3D        jr LBL_0B37
0AFA FE A8        cp 0A8h
0AFC 20 33        jr nz,LBL_0B31
0AFE E7           rst RST_20
0AFF CD 92 0D     call SUB_0D92
0B02 CD 4E 0B     call SUB_0B4E
0B05 CD 02 0C     call SUB_0C02
0B08 C2 AD 0E     jp nz,SUB_0EA7.L1
0B0B E6 1F        and 1Fh
0B0D 4F           ld c,a
0B0E FD CB 01 4E  bit 1,(iy+1)
0B12 28 0A        jr z,LBL_0B1E
0B14 FD 96 38     sub (iy+56)
0B17 CB FF        set 7,a
0B19 C6 3C        add a,3Ch
0B1B D4 71 08     call nc,SUB_0871
0B1E FD 86 39     add a,(iy+57)
0B21 FE 21        cp 21h
0B23 3A 3A 40     ld a,(DATA_403A)
0B26 DE 01        sbc a,01h
0B28 CD FA 08     call SUB_08FA
0B2B FD CB 01 C6  set 0,(iy+1)
0B2F 18 06        jr LBL_0B37
0B31 CD 55 0F     call SUB_0F55
0B34 CD 55 0B     call SUB_0B55
0B37 DF           rst RST_18
0B38 D6 1A        sub 1Ah
0B3A CE 00        adc a,00h
0B3C 28 06        jr z,LBL_0B44
0B3E CD 1D 0D     call SUB_0D1D
0B41 C3 84 0B     jp SUB_0B84
0B44 D4 8B 0B     call nc,SUB_0B8B
0B47 E7           rst RST_20
0B48 FE 76        cp 76h
0B4A C8           ret z
0B4B C3 D5 0A     jp LBL_0AD5
0B4E CD A6 0D     call SUB_0DA6
0B51 C0           ret nz
0B52 E1           pop hl
0B53 18 E2        jr LBL_0B37
0B55 CD C5 0A     call SUB_0AC5
0B58 FD CB 01 76  bit 6,(iy+1)
0B5C CC F8 13     call z,SUB_13F8
0B5F 28 0A        jr z,.L1
0B61 C3 DB 15     jp SUB_15DB
0B64 3E 0B        ld a,0Bh
0B66 D7           rst RST_10
0B67 ED 5B 18 40  ld de,(X_PTR)
0B6B 78           ld a,b
0B6C B1           or c
0B6D 0B           dec bc
0B6E C8           ret z
0B6F 1A           ld a,(de)
0B70 13           inc de
0B71 ED 53 18 40  ld (X_PTR),de
0B75 CB 77        bit 6,a
0B77 28 ED        jr z,.LOOP2
0B79 FE C0        cp 0C0h
0B7B 28 E7        jr z,.LOOP1
0B7D C5           push bc
0B7E CD 4B 09     call SUB_094B
0B81 C1           pop bc
0B82 18 E3        jr .LOOP3
0B84 CD C5 0A     call SUB_0AC5
0B87 3E 76        ld a,76h
0B89 D7           rst RST_10
0B8A C9           ret
0B8B CD C5 0A     call SUB_0AC5
0B8E FD CB 01 C6  set 0,(iy+1)
0B92 AF           xor a
0B93 D7           rst RST_10
0B94 ED 4B 39 40  ld bc,(S_POSN)
0B98 79           ld a,c
0B99 FD CB 01 4E  bit 1,(iy+1)
0B9D 28 05        jr z,.L1
0B9F 3E 5D        ld a,5Dh
0BA1 FD 96 38     sub (iy+56)
0BA4 0E 11        ld c,11h
0BA6 B9           cp c
0BA7 30 02        jr nc,.L2
0BA9 0E 01        ld c,01h
0BAB CD 0B 09     call SUB_090B
0BAE C9           ret
0BAF CD F5 0B     call SUB_0BF5
0BB2 ED 43 36 40  ld (COORDS),bc
0BB6 3E 2B        ld a,2Bh
0BB8 90           sub b
0BB9 DA AD 0E     jp c,SUB_0EA7.L1
0BBC 47           ld b,a
0BBD 3E 01        ld a,01h
0BBF CB 28        sra b
0BC1 30 02        jr nc,LBL_0BC5
0BC3 3E 04        ld a,04h
0BC5 CB 29        sra c
0BC7 30 01        jr nc,LBL_0BCA
0BC9 07           rlca
0BCA F5           push af
0BCB CD F5 08     call SUB_08F5
0BCE 7E           ld a,(hl)
0BCF 07           rlca
0BD0 FE 10        cp 10h
0BD2 30 06        jr nc,LBL_0BDA
0BD4 0F           rrca
0BD5 30 02        jr nc,LBL_0BD9
0BD7 EE 8F        xor 8Fh
0BD9 47           ld b,a
0BDA 11 9E 0C     ld de,0C9Eh
0BDD 3A 30 40     ld a,(T_ADDR)
0BE0 93           sub e
0BE1 FA E9 0B     jp m,LBL_0BE9
0BE4 F1           pop af
0BE5 2F           cpl
0BE6 A0           and b
0BE7 18 02        jr LBL_0BEB
0BE9 F1           pop af
0BEA B0           or b
0BEB FE 08        cp 08h
0BED 38 02        jr c,LBL_0BF1
0BEF EE 8F        xor 8Fh
0BF1 D9           exx
0BF2 D7           rst RST_10
0BF3 D9           exx
0BF4 C9           ret
0BF5 CD 02 0C     call SUB_0C02
0BF8 47           ld b,a
0BF9 C5           push bc
0BFA CD 02 0C     call SUB_0C02
0BFD 59           ld e,c
0BFE C1           pop bc
0BFF 51           ld d,c
0C00 4F           ld c,a
0C01 C9           ret
0C02 CD CD 15     call SUB_15CD
0C05 DA AD 0E     jp c,SUB_0EA7.L1
0C08 0E 01        ld c,01h
0C0A C8           ret z
0C0B 0E FF        ld c,0FFh
0C0D C9           ret
0C0E FD 46 22     ld b,(iy+34)
0C11 0E 21        ld c,21h
0C13 CD 18 09     call SUB_0918→
0C16 CD 9B 09     call SUB_099B→
0C19 7E           ld a,(hl)
0C1A 12           ld (de),a
0C1B FD 34 3A     inc (iy+58)
0C1E 2A 0C 40     ld hl,(D_FILE)
0C21 23           inc hl
0C22 54           ld d,h
0C23 5D           ld e,l
0C24 ED B1        cpir
0C26 C3 5D 0A     jp SUB_0A5D→
0CBA FD 36 01 01  ld (iy+1),01h
0CBE CD 73 0A     call SUB_0A73
0CC1 CD BC 14     call SUB_14BC
0CC4 21 00 40     ld hl,DATA_4000
0CC7 36 FF        ld (hl),0FFh
0CC9 21 2D 40     ld hl,FLAGX
0CCC CB 6E        bit 5,(hl)
0CCE 28 0E        jr z,.L1
0CD0 FE E3        cp 0E3h
0CD2 7E           ld a,(hl)
0CD3 C2 6F 0D     jp nz,SUB_0D6F
0CD6 CD A6 0D     call SUB_0DA6
0CD9 C8           ret z
0CDA CF           rst RST_08
0CDC CF           rst RST_08
0CDE DF           rst RST_18
0CDF 06 00        ld b,00h
0CE1 FE 76        cp 76h
0CE3 C8           ret z
0CE4 4F           ld c,a
0CE5 E7           rst RST_20
0CE6 79           ld a,c
0CE7 D6 E1        sub 0E1h
0CE9 38 3B        jr c,SUB_0D22.L1
0CEB 4F           ld c,a
0CEC 21 29 0C     ld hl,0C29h
0CEF 09           add hl,bc
0CF0 4E           ld c,(hl)
0CF1 09           add hl,bc
0CF2 18 03        jr SUB_0CF7
0CF7 7E           ld a,(hl)
0CF8 23           inc hl
0CF9 22 30 40     ld (T_ADDR),hl
0CFC 01 F4 0C     ld bc,0CF4h
0CFF C5           push bc
0D00 4F           ld c,a
0D01 FE 0B        cp 0Bh
0D03 30 0B        jr nc,.L1
0D05 21 16 0D     ld hl,0D16h
0D08 06 00        ld b,00h
0D0A 09           add hl,bc
0D0B 4E           ld c,(hl)
0D0C 09           add hl,bc
0D0D E5           push hl
0D0E DF           rst RST_18
0D0F C9           ret
0D10 DF           rst RST_18
0D11 B9           cp c
0D12 20 12        jr nz,SUB_0D22.L1
0D14 E7           rst RST_20
0D15 C9           ret
0D1D CD A6 0D     call SUB_0DA6
0D20 C0           ret nz
0D21 C1           pop bc
0D22 7E           ld a,(hl)
0D23 FE 76        cp 76h
0D25 C8           ret z
0D26 18 72        jr SUB_0D92.L1
0D28 FE 76        cp 76h
0D2A CD 9C 0D     call SUB_0D9C
0D2D BF           cp a
0D2E C1           pop bc
0D2F CC 1D 0D     call z,SUB_0D1D
0D32 EB           ex de,hl
0D33 2A 30 40     ld hl,(T_ADDR)
0D36 4E           ld c,(hl)
0D37 23           inc hl
0D38 46           ld b,(hl)
0D39 EB           ex de,hl
0D3A C5           push bc
0D3B C9           ret
0D3C CD 1C 11     call SUB_111C
0D3F FD 36 2D 00  ld (iy+45),00h
0D43 30 08        jr nc,SUB_0D4D
0D45 FD CB 2D CE  set 1,(iy+45)
0D49 20 18        jr nz,SUB_0D4D.L1
0D4B CF           rst RST_08
0D4D CC A7 11     call z,SUB_11A7
0D4F 11 FD CB     ld de,0CBFDh
0D50 FD CB 01 76  bit 6,(iy+1)
0D52 01 76 20     ld bc,2076h
0D54 20 0D        jr nz,.L1
0D55 0D           dec c
0D56 AF           xor a
0D57 CD A6 0D     call SUB_0DA6
0D5A C4 F8 13     call nz,SUB_13F8
0D5D 21 2D 40     ld hl,FLAGX
0D60 B6           or (hl)
0D61 77           ld (hl),a
0D62 EB           ex de,hl
0D63 ED 43 2E 40  ld (STRLEN),bc
0D67 22 12 40     ld (DEST),hl
0D6A C9           ret
0D6B C1           pop bc
0D6C 3A 01 40     ld a,(DATA_4001)
0D6F F5           push af
0D70 CD 55 0F     call SUB_0F55
0D73 F1           pop af
0D74 01 21 13     ld bc,1321h
0D77 FD 56 01     ld d,(iy+1)
0D7A AA           xor d
0D7B E6 40        and 40h
0D7D 20 1B        jr nz,SUB_0D92.L1
0D7F CB 7A        bit 7,d
0D81 20 B7        jr nz,SUB_0D3A
0D83 18 9D        jr SUB_0D22
0D85 CD 1C 11     call SUB_111C
0D88 F5           push af
0D89 79           ld a,c
0D8A F6 9F        or 9Fh
0D8C 3C           inc a
0D8D 20 0B        jr nz,SUB_0D92.L1
0D8F F1           pop af
0D90 18 AD        jr SUB_0D3F
0D92 CD 55 0F     call SUB_0F55
0D95 FD CB 01 76  bit 6,(iy+1)
0D99 C0           ret nz
0D9A CF           rst RST_08
0D9C 20 F4        jr nz,SUB_0D92
0D9E CD A6 0D     call SUB_0DA6
0DA1 C8           ret z
0DA2 EF           rst RST_28
0DA5 C9           ret
0DA6 FD CB 01 7E  bit 7,(iy+1)
0DAA C9           ret
0DAB CD A6 0D     call SUB_0DA6
0DAE 28 06        jr z,LBL_0DB6
0DB0 EF           rst RST_28
0DB3 1A           ld a,(de)
0DB4 A7           and a
0DB5 C8           ret z
0DB6 C3 DE 0C     jp SUB_0CDE→
0DB9 FE E0        cp 0E0h
0DBB 20 09        jr nz,LBL_0DC6
0DBD E7           rst RST_20
0DBE CD 92 0D     call SUB_0D92
0DC1 CD 1D 0D     call SUB_0D1D
0DC4 18 06        jr LBL_0DCC
0DC6 CD 1D 0D     call SUB_0D1D
0DC9 EF           rst RST_28
0DCC EF           rst RST_28
0DD3 CD 21 13     call SUB_1321
0DD6 22 1F 40     ld (MEM),hl
0DD9 2B           dec hl
0DDA 7E           ld a,(hl)
0DDB CB FE        set 7,(hl)
0DDD 01 06 00     ld bc,0006h
0DE0 09           add hl,bc
0DE1 07           rlca
0DE2 38 06        jr c,LBL_0DEA
0DE4 CB 21        sla c
0DE6 CD 9E 09     call SUB_099E
0DE9 23           inc hl
0DEA E5           push hl
0DEB EF           rst RST_28
0DEF E1           pop hl
0DF0 EB           ex de,hl
0DF1 0E 0A        ld c,0Ah
0DF3 ED B0        ldir
0DF5 2A 07 40     ld hl,(DATA_4007)
0DF8 EB           ex de,hl
0DF9 13           inc de
0DFA 73           ld (hl),e
0DFB 23           inc hl
0DFC 72           ld (hl),d
0DFD CD 5A 0E     call SUB_0E5A
0E00 D0           ret nc
0E01 FD CB 08 7E  bit 7,(iy+8)
0E05 C0           ret nz
0E06 FD 46 2E     ld b,(iy+46)
0E09 CB B0        res 6,b
0E0B 2A 29 40     ld hl,(NXTLIN)
0E0E 7E           ld a,(hl)
0E0F E6 C0        and 0C0h
0E11 20 17        jr nz,LBL_0E2A
0E13 C5           push bc
0E14 CD F2 09     call SUB_09F2
0E17 C1           pop bc
0E18 23           inc hl
0E19 23           inc hl
0E1A 23           inc hl
0E1B CD 4C 00     call SUB_004C
0E1E DF           rst RST_18
0E1F FE F3        cp 0F3h
0E21 EB           ex de,hl
0E22 20 EA        jr nz,LBL_0E0E
0E24 EB           ex de,hl
0E25 E7           rst RST_20
0E26 EB           ex de,hl
0E27 B8           cp b
0E28 20 E4        jr nz,LBL_0E0E
0E2A 22 29 40     ld (NXTLIN),hl
0E2D C9           ret
0E2E FD CB 2D 4E  bit 1,(iy+45)
0E32 C2 4B 0D     jp nz,SUB_0D4B→
0E35 2A 12 40     ld hl,(DEST)
0E38 CB 7E        bit 7,(hl)
0E3A 28 1C        jr z,LBL_0E58
0E3C 23           inc hl
0E3D 22 1F 40     ld (MEM),hl
0E40 EF           rst RST_28
0E47 CD 5A 0E     call SUB_0E5A→
0E4A D8           ret c
0E4B 2A 1F 40     ld hl,(MEM)
0E4E 11 0F 00     ld de,000Fh
0E51 19           add hl,de
0E52 5E           ld e,(hl)
0E53 23           inc hl
0E54 56           ld d,(hl)
0E55 EB           ex de,hl
0E56 18 2E        jr SUB_0E81.L1→
0E58 CF           rst RST_08
0E5A EF           rst RST_28
0E67 A7           and a
0E68 C9           ret
0E6A 37           scf
0E6B C9           ret
0E6C CD A7 0E     call SUB_0EA7
0E6F 78           ld a,b
0E70 B1           or c
0E71 20 04        jr nz,LBL_0E77
0E73 ED 4B 34 40  ld bc,(FRAMES)
0E77 ED 43 32 40  ld (SEED),bc
0E7B C9           ret
0E7C 2A 2B 40     ld hl,(OLDPPC)
0E7F 18 05        jr SUB_0E81.L1→
0E81 CD A7 0E     call SUB_0EA7
0E84 60           ld h,b
0E85 69           ld l,c
0E86 7C           ld a,h
0E87 FE F0        cp 0F0h
0E89 30 22        jr nc,SUB_0EA7.L1
0E8B CD D8 09     call SUB_09D8
0E8E 22 29 40     ld (NXTLIN),hl
0E91 C9           ret
0E92 CD CD 15     call SUB_15CD→
0E95 38 16        jr c,SUB_0EA7.L1→
0E97 28 02        jr z,LBL_0E9B
0E99 ED 44        neg
0E9B F5           push af
0E9C CD A7 0E     call SUB_0EA7→
0E9F F1           pop af
0EA0 FD CB 00 7E  bit 7,(iy+0)
0EA4 C8           ret z
0EA5 02           ld (bc),a
0EA6 C9           ret
0EA7 CD 8A 15     call SUB_158A
0EAA 38 01        jr c,.L1
0EAC C8           ret z
0EAD CF           rst RST_08
0EAF CD 81 0E     call SUB_0E81
0EB2 C3 9A 14     jp SUB_149A
0EB5 2A 07 40     ld hl,(DATA_4007)
0EB8 23           inc hl
0EB9 E3           ex (sp),hl
0EBA E5           push hl
0EBB ED 73 02 40  ld (DATA_4002),sp
0EBF CD 81 0E     call SUB_0E81→
0EC2 01 06 00     ld bc,0006h
0EC5 2A 1C 40
0EC8 09
0EC9 38 08
0ECB EB
0ECC 21 24 00
0ECF 19
0ED0 ED 72
0ED2 D8
0ED3 2E 03
0ED5 C3 58 00
0ED8 E1           pop hl
0ED9 E3           ex (sp),hl
0EDA 7C           ld a,h
0EDB FE 3E        cp 3Eh
0EDD 28 06        jr z,LBL_0EE5
0EDF ED 73 02 40  ld (DATA_4002),sp
0EE3 18 A1        jr SUB_0E81.L1
0EE5 E3           ex (sp),hl
0EE6 E5           push hl
0EE7 CF           rst RST_08
0EE9 FD CB 08 7E  bit 7,(iy+8)
0EEA CB 08        rrc b
0EEC 7E           ld a,(hl)
0EED 20 32        jr nz,LBL_0F21
0EEF CD A3 14     call SUB_14A3
0EF2 21 2D 40     ld hl,FLAGX
0EF5 CB EE        set 5,(hl)
0EF7 CB B6        res 6,(hl)
0EF9 3A 01 40     ld a,(DATA_4001)
0EFC E6 40        and 40h
0EFE 01 02 00     ld bc,0002h
0F01 20 02        jr nz,.L1
0F03 0E 04        ld c,04h
0F05 B6           or (hl)
0F06 77           ld (hl),a
0F07 F7           rst RST_30
0F08 36 76        ld (hl),76h
0F0A 79           ld a,c
0F0B 0F           rrca
0F0C 0F           rrca
0F0D 38 05        jr c,.L2
0F0F 3E 0B        ld a,0Bh
0F11 12           ld (de),a
0F12 2B           dec hl
0F13 77           ld (hl),a
0F14 2B           dec hl
0F15 36 7F        ld (hl),7Fh
0F17 2A 39 40     ld hl,(S_POSN)
0F1A 22 30 40     ld (T_ADDR),hl
0F1D E1           pop hl
0F1E C3 72 04     jp LBL_0472
0F21 CF           rst RST_08
0F23 CD E7 02     call SUB_02E7
0F26 FD CB 3B B6  res 6,(iy+59)
0F2A C9           ret
0F2B FD CB 3B F6  set 6,(iy+59)
0F2F C3 07 02     jp SUB_0207→
0F32 CD A7 0E     call SUB_0EA7→
0F35 CD E7 02     call SUB_02E7→
0F38 60           ld h,b
0F39 69           ld l,c
0F3A CD 2D 02     call SUB_022D→
0F3D FD 36 35 FF  ld (iy+53),0FFh
0F41 CD 07 02     call SUB_0207→
0F44 18 05        jr SUB_0F4B→
0F46 3E 7F
0F48 DB FE
0F4A 1F
0F4B FD CB 3B 86
0F4F 3E FF
0F51 32 27 40
0F54 C9
0F55 DF           rst RST_18
0F56 06 00        ld b,00h
0F58 C5           push bc
0F59 FE 40        cp 40h
0F5B 20 2F        jr nz,.L2
0F5D CD A6 0D     call SUB_0DA6
0F60 28 28        jr z,.L1
0F62 ED 4B 32 40  ld bc,(SEED)
0F66 CD 20 15     call SUB_1520
0F69 EF           rst RST_28
0F7C CD 8A 15     call SUB_158A
0F7F ED 43 32 40  ld (SEED),bc
0F83 7E           ld a,(hl)
0F84 A7           and a
0F85 28 03        jr z,.L1
0F87 D6 10        sub 10h
0F89 77           ld (hl),a
0F8A 18 0D        jr .L3
0F8C FE 42        cp 42h
0F8E 20 0D        jr nz,.L4
0F90 CD A6 0D     call SUB_0DA6
0F93 28 04        jr z,.L3
0F95 EF           rst RST_28
0F98 34           inc (hl)
0F99 E7           rst RST_20
0F9A C3 83 10     jp .L18
0F9D FE 41        cp 41h
0F9F 20 11        jr nz,.L6
0FA1 CD BB 02     call SUB_02BB
0FA4 44           ld b,h
0FA5 4D           ld c,l
0FA6 51           ld d,c
0FA7 14           inc d
0FA8 C4 BD 07     call nz,SUB_07BD
0FAB 7A           ld a,d
0FAC 8A           adc a,d
0FAD 42           ld b,d
0FAE 4F           ld c,a
0FAF EB           ex de,hl
0FB0 18 3B        jr .L9
0FB2 CD D2 14     call SUB_14D2
0FB5 38 6E        jr c,.L16
0FB7 FE 1B        cp 1Bh
0FB9 CA 47 10     jp z,.L17
0FBC 01 D8 09     ld bc,SUB_09D8
0FBF FE 16        cp 16h
0FC1 28 5D        jr z,.L15
0FC3 FE 10        cp 10h
0FC5 20 0F        jr nz,.L7
0FC7 CD 49 00     call SUB_0049
0FCA CD 55 0F     call SUB_0F55
0FCD FE 11        cp 11h
0FCF 20 2E        jr nz,.L12
0FD1 CD 49 00     call SUB_0049
0FD4 18 22        jr .L10
0FD6 FE 0B        cp 0Bh
0FD8 20 28        jr nz,.L13
0FDA CD 49 00     call SUB_0049
0FDD E5           push hl
0FDE 18 03        jr .L8
0FE0 CD 49 00     call SUB_0049
0FE3 FE 0B        cp 0Bh
0FE5 20 14        jr nz,.L11
0FE7 D1           pop de
0FE8 A7           and a
0FE9 ED 52        sbc hl,de
0FEB 44           ld b,h
0FEC 4D           ld c,l
0FED 21 01 40     ld hl,DATA_4001
0FF0 CB B6        res 6,(hl)
0FF2 CB 7E        bit 7,(hl)
0FF4 C4 C3 12     call nz,SUB_12C3
0FF7 E7           rst RST_20
0FF8 C3 88 10     jp .LOOP4
0FFB FE 76        cp 76h
0FFD 20 E1        jr nz,.LOOP2
0FFF C3 9A 0D     jp SUB_0D92.L1
1002 D6 C4        sub 0C4h
1004 38 F9        jr c,.L12
1006 01 EC 04     ld bc,04ECh
1009 FE 13        cp 13h
100B 28 13        jr z,.L15
100D 30 F0        jr nc,.L12
100F 06 10        ld b,10h
1011 C6 D9        add a,0D9h
1013 4F           ld c,a
1014 FE DC        cp 0DCh
1016 30 02        jr nc,.L14
1018 CB B1        res 6,c
101A FE EA        cp 0EAh
101C 38 02        jr c,.L15
101E CB B9        res 7,c
1020 C5           push bc
1021 E7           rst RST_20
1022 C3 59 0F     jp .LOOP1
1025 FE 26        cp 26h
1027 38 1E        jr c,.L17
1029 CD 1C 11     call SUB_111C
102C DA 4B 0D     jp c,LBL_0D4B
102F CC A7 11     call z,SUB_11A7
1032 3A 01 40     ld a,(DATA_4001)
1035 FE C0        cp 0C0h
1037 38 4E        jr c,.L19
1039 23           inc hl
103A ED 5B 1C 40  ld de,(STKEND)
103E CD F6 19     call SUB_19F6
1041 EB           ex de,hl
1042 22 1C 40     ld (STKEND),hl
1045 18 40        jr .L19
1047 CD A6 0D     call SUB_0DA6
104A 20 23        jr nz,.LOOP3
104C CD D9 14     call SUB_14D9
104F DF           rst RST_18
1050 01 06 00     ld bc,0006h
1053 CD 9E 09     call SUB_099E
1056 23           inc hl
1057 36 7E        ld (hl),7Eh
1059 23           inc hl
105A EB           ex de,hl
105B 2A 1C 40     ld hl,(STKEND)
105E 0E 05        ld c,05h
1060 A7           and a
1061 ED 42        sbc hl,bc
1063 22 1C 40     ld (STKEND),hl
1066 ED B0        ldir
1068 EB           ex de,hl
1069 2B           dec hl
106A CD 4C 00     call SUB_004C
106D 18 14        jr .L18
106F E7           rst RST_20
1070 FE 7E        cp 7Eh
1072 20 FB        jr nz,.LOOP3
1074 23           inc hl
1075 ED 5B 1C 40  ld de,(STKEND)
1079 CD F6 19     call SUB_19F6
107C ED 53 1C 40  ld (STKEND),de
1080 22 16 40     ld (CH_ADD),hl
1083 FD CB 01 F6  set 6,(iy+1)
1087 DF           rst RST_18
1088 FE 10        cp 10h
108A 20 0C        jr nz,.L20
108C FD CB 01 76  bit 6,(iy+1)
1090 20 2A        jr nz,.LOOP5
1092 CD 63 12     call SUB_1263
1095 E7           rst RST_20
1096 18 F0        jr .LOOP4
1098 01 C3 00     ld bc,00C3h
109B FE 12        cp 12h
109D 38 1D        jr c,.LOOP5
109F D6 16        sub 16h
10A1 30 04        jr nc,.L21
10A3 C6 0D        add a,0Dh
10A5 18 0E        jr .L22
10A7 FE 03        cp 03h
10A9 38 0A        jr c,.L22
10AB D6 C2        sub 0C2h
10AD 38 0D        jr c,.LOOP5
10AF FE 06        cp 06h
10B1 30 09        jr nc,.LOOP5
10B3 C6 03        add a,03h
10B5 81           add a,c
10B6 4F           ld c,a
10B7 21 4C 10     ld hl,104Ch
10BA 09           add hl,bc
10BB 46           ld b,(hl)
10BC D1           pop de
10BD 7A           ld a,d
10BE B8           cp b
10BF 38 2C        jr c,.L27
10C1 A7           and a
10C2 CA 18 00     jp z,RST_18
10C5 C5           push bc
10C6 D5           push de
10C7 CD A6 0D     call SUB_0DA6
10CA 28 09        jr z,.L23
10CC 7B           ld a,e
10CD E6 3F        and 3Fh
10CF 47           ld b,a
10D0 EF           rst RST_28
10D3 18 09        jr .L25
10D5 7B           ld a,e
10D6 FD AE 01     xor (iy+1)
10D9 E6 40        and 40h
10DB C2 9A 0D     jp nz,SUB_0D92.L1
10DE D1           pop de
10DF 21 01 40     ld hl,DATA_4001
10E2 CB F6        set 6,(hl)
10E4 CB 7B        bit 7,e
10E6 20 02        jr nz,.L26
10E8 CB B6        res 6,(hl)
10EA C1           pop bc
10EB 18 CF        jr .LOOP5
10ED D5           push de
10EE 79           ld a,c
10EF FD CB 01 76  bit 6,(iy+1)
10F3 20 15        jr nz,.L29
10F5 E6 3F        and 3Fh
10F7 C6 08        add a,08h
10F9 4F           ld c,a
10FA FE 10        cp 10h
10FC 20 04        jr nz,.L28
10FE CB F1        set 6,c
1100 18 08        jr .L29
1102 38 D7        jr c,.L24
1104 FE 17        cp 17h
1106 28 02        jr z,.L29
1108 CB F9        set 7,c
110A C5           push bc
110B E7           rst RST_20
110C C3 59 0F     jp .LOOP1
111C FD CB 01 F6  set 6,(iy+1)
1120 DF           rst RST_18
1121 CD CE 14     call SUB_14CE
1124 D2 9A 0D     jp nc,SUB_0D92.L1
1127 E5           push hl
1128 4F           ld c,a
1129 E7           rst RST_20
112A E5           push hl
112B CB A9        res 5,c
112D FE 10        cp 10h
112F 28 17        jr z,.L2
1131 CB F1        set 6,c
1133 FE 0D        cp 0Dh
1135 28 0C        jr z,.L1
1137 CB E9        set 5,c
1139 CD D2 14     call SUB_14D2
113C 30 0A        jr nc,.L2
113E CB B1        res 6,c
1140 E7           rst RST_20
1141 18 F6        jr .LOOP1
1143 E7           rst RST_20
1144 FD CB 01 B6  res 6,(iy+1)
1148 41           ld b,c
1149 CD A6 0D     call SUB_0DA6
114C 20 08        jr nz,.L3
114E 79           ld a,c
114F E6 E0        and 0E0h
1151 CB FF        set 7,a
1153 4F           ld c,a
1154 18 34        jr .L7
1156 2A 10 40     ld hl,(VARS)
1159 7E           ld a,(hl)
115A E6 7F        and 7Fh
115C 28 2A        jr z,.L6
115E B9           cp c
115F 20 1F        jr nz,.L5
1161 17           rla
1162 87           add a,a
1163 F2 95 11     jp p,.L9
1166 38 2D        jr c,.L9
1168 D1           pop de
1169 D5           push de
116A E5           push hl
116B 23           inc hl
116C 1A           ld a,(de)
116D 13           inc de
116E A7           and a
116F 28 FB        jr z,.LOOP4
1171 BE           cp (hl)
1172 28 F7        jr z,.LOOP3
1174 F6 80        or 80h
1176 BE           cp (hl)
1177 20 06        jr nz,.L4
1179 1A           ld a,(de)
117A CD D2 14     call SUB_14D2
117D 30 15        jr nc,.L8
117F E1           pop hl
1180 C5           push bc
1181 CD F2 09     call SUB_09F2
1184 EB           ex de,hl
1185 C1           pop bc
1186 18 D1        jr .LOOP2
1188 CB F8        set 7,b
118A D1           pop de
118B DF           rst RST_18
118C FE 10        cp 10h
118E 28 09        jr z,.LOOP5
1190 CB E8        set 5,b
1192 18 0D        jr .L10
1194 D1           pop de
1195 D1           pop de
1196 D1           pop de
1197 E5           push hl
1198 DF           rst RST_18
1199 CD D2 14     call SUB_14D2
119C 30 03        jr nc,.L10
119E E7           rst RST_20
119F 18 F8        jr .LOOP5
11A1 E1           pop hl
11A2 CB 10        rl b
11A4 CB 70        bit 6,b
11A6 C9           ret
11A7 AF           xor a
11A8 47           ld b,a
11A9 CB 79        bit 7,c
11AB 20 4B        jr nz,.L6
11AD CB 7E        bit 7,(hl)
11AF 20 0E        jr nz,.L2
11B1 3C           inc a
11B2 23           inc hl
11B3 4E           ld c,(hl)
11B4 23           inc hl
11B5 46           ld b,(hl)
11B6 23           inc hl
11B7 EB           ex de,hl
11B8 CD C3 12     call SUB_12C3
11BB DF           rst RST_18
11BC C3 5A 12     jp .L14
11BF 23           inc hl
11C0 23           inc hl
11C1 23           inc hl
11C2 46           ld b,(hl)
11C3 CB 71        bit 6,c
11C5 28 0A        jr z,.L3
11C7 05           dec b
11C8 28 E8        jr z,.L1
11CA EB           ex de,hl
11CB DF           rst RST_18
11CC FE 10        cp 10h
11CE 20 61        jr nz,.L10
11D0 EB           ex de,hl
11D1 EB           ex de,hl
11D2 18 24        jr .L6
11D4 E5           push hl
11D5 DF           rst RST_18
11D6 E1           pop hl
11D7 FE 1A        cp 1Ah
11D9 28 20        jr z,.L7
11DB CB 79        bit 7,c
11DD 28 52        jr z,.L10
11DF CB 71        bit 6,c
11E1 20 06        jr nz,.L4
11E3 FE 11        cp 11h
11E5 20 3C        jr nz,.L9
11E7 E7           rst RST_20
11E8 C9           ret
11E9 FE 11        cp 11h
11EB 28 6C        jr z,.L13
11ED FE DF        cp 0DFh
11EF 20 32        jr nz,.L9
11F1 DF           rst RST_18
11F2 2B           dec hl
11F3 22 16 40     ld (CH_ADD),hl
11F6 18 5E        jr .LOOP2
11F8 21 00 00     ld hl,0000h
11FB E5           push hl
11FC E7           rst RST_20
11FD E1           pop hl
11FE 79           ld a,c
11FF FE C0        cp 0C0h
1201 20 09        jr nz,.L8
1203 DF           rst RST_18
1204 FE 11        cp 11h
1206 28 51        jr z,.L13
1208 FE DF        cp 0DFh
120A 28 E5        jr z,.L5
120C C5           push bc
120D E5           push hl
120E CD FF 12     call SUB_12FF
1211 E3           ex (sp),hl
1212 EB           ex de,hl
1213 CD DD 12     call SUB_12DD
1216 38 19        jr c,.L10
1218 0B           dec bc
1219 CD 05 13     call SUB_1305
121C 09           add hl,bc
121D D1           pop de
121E C1           pop bc
121F 10 B3        djnz .LOOP1
1221 CB 79        bit 7,c
1223 20 66        jr nz,SUB_1263.L1
1225 E5           push hl
1226 CB 71        bit 6,c
1228 20 13        jr nz,.L12
122A 42           ld b,d
122B 4B           ld c,e
122C DF           rst RST_18
122D FE 11        cp 11h
122F 28 02        jr z,.L11
1231 CF           rst RST_08
1233 E7           rst RST_20
1234 E1           pop hl
1235 11 05 00     ld de,0005h
1238 CD 05 13     call SUB_1305
123B 09           add hl,bc
123C C9           ret
123D CD FF 12     call SUB_12FF
1240 E3           ex (sp),hl
1241 CD 05 13     call SUB_1305
1244 C1           pop bc
1245 09           add hl,bc
1246 23           inc hl
1247 42           ld b,d
1248 4B           ld c,e
1249 EB           ex de,hl
124A CD C2 12     call SUB_12C2
124D DF           rst RST_18
124E FE 11        cp 11h
1250 28 07        jr z,.L13
1252 FE 1A        cp 1Ah
1254 20 DB        jr nz,.L10
1256 CD 63 12     call SUB_1263
1259 E7           rst RST_20
125A FE 10        cp 10h
125C 28 F8        jr z,.LOOP2
125E FD CB 01 B6  res 6,(iy+1)
1262 C9           ret
1263 CD A6 0D     call SUB_0DA6
1266 C4 F8 13     call nz,SUB_13F8
1269 E7           rst RST_20
126A FE 11        cp 11h
126C 28 50        jr z,.L5
126E D5           push de
126F AF           xor a
1270 F5           push af
1271 C5           push bc
1272 11 01 00     ld de,0001h
1275 DF           rst RST_18
1276 E1           pop hl
1277 FE DF        cp 0DFh
1279 28 17        jr z,.L2
127B F1           pop af
127C CD DE 12     call SUB_12DE
127F F5           push af
1280 50           ld d,b
1281 59           ld e,c
1282 E5           push hl
1283 DF           rst RST_18
1284 E1           pop hl
1285 FE DF        cp 0DFh
1287 28 09        jr z,.L2
1289 FE 11        cp 11h
128B C2 9A 0D     jp nz,SUB_0D92.L1
128E 62           ld h,d
128F 6B           ld l,e
1290 18 13        jr .L3
1292 E5           push hl
1293 E7           rst RST_20
1294 E1           pop hl
1295 FE 11        cp 11h
1297 28 0C        jr z,.L3
1299 F1           pop af
129A CD DE 12     call SUB_12DE
129D F5           push af
129E DF           rst RST_18
129F 60           ld h,b
12A0 69           ld l,c
12A1 FE 11        cp 11h
12A3 20 E6        jr nz,.L1
12A5 F1           pop af
12A6 E3           ex (sp),hl
12A7 19           add hl,de
12A8 2B           dec hl
12A9 E3           ex (sp),hl
12AA A7           and a
12AB ED 52        sbc hl,de
12AD 01 00 00     ld bc,0000h
12B0 38 07        jr c,.L4
12B2 23           inc hl
12B3 A7           and a
12B4 FA 31 12     jp m,SUB_11A7.L10
12B7 44           ld b,h
12B8 4D           ld c,l
12B9 D1           pop de
12BA FD CB 01 B6  res 6,(iy+1)
12BE CD A6 0D     call SUB_0DA6
12C1 C8           ret z
12C2 AF           xor a
12C3 C5           push bc
12C4 CD EB 19     call SUB_19EB
12C7 C1           pop bc
12C8 2A 1C 40     ld hl,(STKEND)
12CB 77           ld (hl),a
12CC 23           inc hl
12CD 73           ld (hl),e
12CE 23           inc hl
12CF 72           ld (hl),d
12D0 23           inc hl
12D1 71           ld (hl),c
12D2 23           inc hl
12D3 70           ld (hl),b
12D4 23           inc hl
12D5 22 1C 40     ld (STKEND),hl
12D8 FD CB 01 B6  res 6,(iy+1)
12DC C9           ret
12DD AF           xor a
12DE D5           push de
12DF E5           push hl
12E0 F5           push af
12E1 CD 92 0D     call SUB_0D92
12E4 F1           pop af
12E5 CD A6 0D     call SUB_0DA6
12E8 28 12        jr z,.L2
12EA F5           push af
12EB CD A7 0E     call SUB_0EA7
12EE D1           pop de
12EF 78           ld a,b
12F0 B1           or c
12F1 37           scf
12F2 28 05        jr z,.L1
12F4 E1           pop hl
12F5 E5           push hl
12F6 A7           and a
12F7 ED 42        sbc hl,bc
12F9 7A           ld a,d
12FA DE 00        sbc a,00h
12FC E1           pop hl
12FD D1           pop de
12FE C9           ret
12FF EB           ex de,hl
1300 23           inc hl
1301 5E           ld e,(hl)
1302 23           inc hl
1303 56           ld d,(hl)
1304 C9           ret
1305 CD A6 0D     call SUB_0DA6
1308 C8           ret z
1309 C5           push bc
130A 06 10        ld b,10h
130C 7C           ld a,h
130D 4D           ld c,l
130E 21 00 00     ld hl,0000h
1311 29           add hl,hl
1312 38 06        jr c,.L1
1314 CB 11        rl c
1316 17           rla
1317 30 04        jr nc,.L2
1319 19           add hl,de
131A DA D3 0E     jp c,SUB_0EC5.L1
131D 10 F2        djnz .LOOP
131F C1           pop bc
1320 C9           ret
1321 2A 12 40     ld hl,(DEST)
1324 FD CB 2D 4E  bit 1,(iy+45)
1328 28 44        jr z,LBL_136E
132A 01 05 00     ld bc,0005h
132D 03           inc bc
132E 23           inc hl
132F 7E           ld a,(hl)
1330 A7           and a
1331 28 FB        jr z,LBL_132E
1333 CD D2 14     call SUB_14D2
1336 38 F5        jr c,LBL_132D
1338 FE 0D        cp 0Dh
133A CA C8 13     jp z,LBL_13C8
133D F7           rst RST_30
133E D5           push de
133F 2A 12 40     ld hl,(DEST)
1342 1B           dec de
1343 79           ld a,c
1344 D6 06        sub 06h
1346 47           ld b,a
1347 3E 40        ld a,40h
1349 28 0E        jr z,LBL_1359
134B 23           inc hl
134C 7E           ld a,(hl)
134D A7           and a
134E 28 FB        jr z,LBL_134B
1350 13           inc de
1351 12           ld (de),a
1352 10 F7        djnz LBL_134B
1354 F6 80        or 80h
1356 12           ld (de),a
1357 3E 80        ld a,80h
1359 2A 12 40     ld hl,(DEST)
135C AE           xor (hl)
135D E1           pop hl
135E CD E7 13     call SUB_13E7→
1361 E5           push hl
1362 EF           rst RST_28
1365 E1           pop hl
1366 01 05 00     ld bc,0005h
1369 A7           and a
136A ED 42        sbc hl,bc
136C 18 40        jr LBL_13AE
136E FD CB 01 76  bit 6,(iy+1)
1372 28 06        jr z,LBL_137A
1374 11 06 00     ld de,0006h
1377 19           add hl,de
1378 18 E7        jr LBL_1361
137A 2A 12 40     ld hl,(DEST)
137D ED 4B 2E 40  ld bc,(STRLEN)
1381 FD CB 2D 46  bit 0,(iy+45)
1385 20 30        jr nz,LBL_13B7
1387 78           ld a,b
1388 B1           or c
1389 C8           ret z
138A E5           push hl
138B F7           rst RST_30
138C D5           push de
138D C5           push bc
138E 54           ld d,h
138F 5D           ld e,l
1390 23           inc hl
1391 36 00        ld (hl),00h
1393 ED B8        lddr
1395 E5           push hl
1396 CD F8 13     call SUB_13F8
1399 E1           pop hl
139A E3           ex (sp),hl
139B A7           and a
139C ED 42        sbc hl,bc
139E 09           add hl,bc
139F 30 02        jr nc,LBL_13A3
13A1 44           ld b,h
13A2 4D           ld c,l
13A3 E3           ex (sp),hl
13A4 EB           ex de,hl
13A5 78           ld a,b
13A6 B1           or c
13A7 28 02        jr z,LBL_13AB
13A9 ED B0        ldir
13AB C1           pop bc
13AC D1           pop de
13AD E1           pop hl
13AE EB           ex de,hl
13AF 78           ld a,b
13B0 B1           or c
13B1 C8           ret z
13B2 D5           push de
13B3 ED B0        ldir
13B5 E1           pop hl
13B6 C9           ret
13B7 2B           dec hl
13B8 2B           dec hl
13B9 2B           dec hl
13BA 7E           ld a,(hl)
13BB E5           push hl
13BC C5           push bc
13BD CD CE 13     call SUB_13CE→
13C0 C1           pop bc
13C1 E1           pop hl
13C2 03           inc bc
13C3 03           inc bc
13C4 03           inc bc
13C5 C3 60 0A     jp SUB_0A5D.L1→
13C8 3E 60        ld a,60h
13CA 2A 12 40     ld hl,(DEST)
13CD AE           xor (hl)→
13CE F5           push af
13CF CD F8 13     call SUB_13F8
13D2 EB           ex de,hl
13D3 09           add hl,bc
13D4 E5           push hl
13D5 03           inc bc
13D6 03           inc bc
13D7 03           inc bc
13D8 F7           rst RST_30
13D9 EB           ex de,hl
13DA E1           pop hl
13DB 0B           dec bc
13DC 0B           dec bc
13DD C5           push bc
13DE ED B8        lddr
13E0 EB           ex de,hl
13E1 C1           pop bc
13E2 0B           dec bc
13E3 70           ld (hl),b
13E4 2B           dec hl
13E5 71           ld (hl),c
13E6 F1           pop af→
13E7 F5           push af
13E8 CD C7 14     call SUB_14C7
13EB F1           pop af
13EC 2B           dec hl
13ED 77           ld (hl),a
13EE 2A 1A 40     ld hl,(STKBOT)
13F1 22 14 40     ld (E_LINE),hl
13F4 2B           dec hl
13F5 36 80        ld (hl),80h
13F7 C9           ret
13F8 2A 1C 40     ld hl,(STKEND)
13FB 2B           dec hl
13FC 46           ld b,(hl)
13FD 2B           dec hl
13FE 4E           ld c,(hl)
13FF 2B           dec hl
1400 56           ld d,(hl)
1401 2B           dec hl
1402 5E           ld e,(hl)
1403 2B           dec hl
1404 7E           ld a,(hl)
1405 22 1C 40     ld (STKEND),hl
1408 C9           ret
1409 CD 1C 11     call SUB_111C
140C C2 9A 0D     jp nz,SUB_0D92.L1→
140F CD A6 0D     call SUB_0DA6
1412 20 08        jr nz,LBL_141C
1414 CB B1        res 6,c
1416 CD A7 11     call SUB_11A7
1419 CD 1D 0D     call SUB_0D1D
141C 38 08        jr c,LBL_1426
141E C5           push bc
141F CD F2 09     call SUB_09F2
1422 CD 60 0A     call SUB_0A60
1425 C1           pop bc
1426 CB F9        set 7,c
1428 06 00        ld b,00h
142A C5           push bc
142B 21 01 00     ld hl,0001h
142E CB 71        bit 6,c
1430 20 02        jr nz,LBL_1434
1432 2E 05        ld l,05h
1434 EB           ex de,hl
1435 E7           rst RST_20
1436 26 40        ld h,40h
1438 CD DD 12     call SUB_12DD
143B DA 31 12     jp c,SUB_11A7.L10→
143E E1           pop hl
143F C5           push bc
1440 24           inc h
1441 E5           push hl
1442 60           ld h,b
1443 69           ld l,c
1444 CD 05 13     call SUB_1305
1447 EB           ex de,hl
1448 DF           rst RST_18
1449 FE 1A        cp 1Ah
144B 28 E8        jr z,LBL_1435
144D FE 11        cp 11h
144F 20 BB        jr nz,LBL_140C
1451 E7           rst RST_20
1452 C1           pop bc
1453 79           ld a,c
1454 68           ld l,b
1455 26 00        ld h,00h
1457 23           inc hl
1458 23           inc hl
1459 29           add hl,hl
145A 19           add hl,de
145B DA D3 0E     jp c,SUB_0EC5.L1→
145E D5           push de
145F C5           push bc
1460 E5           push hl
1461 44           ld b,h
1462 4D           ld c,l
1463 2A 14 40     ld hl,(E_LINE)
1466 2B           dec hl
1467 CD 9E 09     call SUB_099E
146A 23           inc hl
146B 77           ld (hl),a
146C C1           pop bc
146D 0B           dec bc
146E 0B           dec bc
146F 0B           dec bc
1470 23           inc hl
1471 71           ld (hl),c
1472 23           inc hl
1473 70           ld (hl),b
1474 F1           pop af
1475 23           inc hl
1476 77           ld (hl),a
1477 62           ld h,d
1478 6B           ld l,e
1479 1B           dec de
147A 36 00        ld (hl),00h
147C C1           pop bc
147D ED B8        lddr
147F C1           pop bc
1480 70           ld (hl),b
1481 2B           dec hl
1482 71           ld (hl),c
1483 2B           dec hl
1484 3D           dec a
1485 20 F8        jr nz,LBL_147F
1487 C9           ret
1488 2A 1A 40     ld hl,(STKBOT)
148B 2B           dec hl
148C CD 9E 09     call SUB_099E
148F 23           inc hl
1490 23           inc hl
1491 C1           pop bc
1492 ED 43 14 40  ld (E_LINE),bc
1496 C1           pop bc
1497 EB           ex de,hl
1498 23           inc hl
1499 C9           ret
149A 2A 10 40
149D 36 80
149F 23
14A0 22 14 40
14A3 2A 14 40
14A6 22 1A 40
14A9 22 1C 40
14AC C9
14AD 2A 14 40
14B0 36 7F
14B2 23
14B3 36 76
14B5 23
14B6 FD 36 22 02
14BA 18 EA
14BC 21 5D 40
14BF 22 1F 40
14C2 2A 1A 40
14C5 18 E2
14C7 ED 5B 14 40  ld de,(E_LINE)
14CB C3 5D 0A     jp SUB_0A5D→
14CE FE 26        cp 26h
14D0 18 02        jr SUB_14D2.L1
14D2 FE 1C        cp 1Ch
14D4 3F           ccf
14D5 D0           ret nc
14D6 FE 40        cp 40h
14D8 C9           ret
14D9 CD 48 15     call SUB_1548
14DC FE 1B        cp 1Bh
14DE 20 15        jr nz,.L1
14E0 EF           rst RST_28
14E5 E7           rst RST_20
14E6 CD 14 15     call SUB_1514
14E9 38 0A        jr c,.L1
14EB EF           rst RST_28
14F3 18 F0        jr .LOOP
14F5 FE 2A        cp 2Ah
14F7 C0           ret nz
14F8 FD 36 5D FF  ld (iy+93),0FFh
14FC E7           rst RST_20
14FD FE 15        cp 15h
14FF 28 07        jr z,.L2
1501 FE 16        cp 16h
1503 20 04        jr nz,.L3
1505 FD 34 5D     inc (iy+93)
1508 E7           rst RST_20
1509 CD 48 15     call SUB_1548
150C EF           rst RST_28
1513 C9           ret
1514 FE 1C        cp 1Ch
1516 D8           ret c
1517 FE 26        cp 26h
1519 3F           ccf
151A D8           ret c
151B D6 1C        sub 1Ch
151D 4F           ld c,a
151E 06 00        ld b,00h
1520 FD 21 00 40  ld iy,4000h
1524 C5           push bc
1525 EF           rst RST_28
1528 C1           pop bc
1529 36 91        ld (hl),91h
152B 78           ld a,b
152C A7           and a
152D 20 07        jr nz,.LOOP
152F 77           ld (hl),a
1530 B1           or c
1531 C8           ret z
1532 41           ld b,c
1533 4E           ld c,(hl)
1534 36 89        ld (hl),89h
1536 35           dec (hl)
1537 CB 21        sla c
1539 CB 10        rl b
153B 30 F9        jr nc,.LOOP
153D CB 38        srl b
153F CB 19        rr c
1541 23           inc hl
1542 70           ld (hl),b
1543 23           inc hl
1544 71           ld (hl),c
1545 2B           dec hl
1546 2B           dec hl
1547 C9           ret
1548 F5           push af
1549 EF           rst RST_28
154C F1           pop af
154D CD 14 15     call SUB_1514
1550 D8           ret c
1551 EF           rst RST_28
1557 E7           rst RST_20
1558 18 F3        jr .LOOP
1589 C9           ret
158A CD F8 13     call SUB_13F8
158D A7           and a
158E 20 05        jr nz,.L1
1590 47           ld b,a
1591 4F           ld c,a
1592 F5           push af
1593 18 31        jr .L4
1595 43           ld b,e
1596 59           ld e,c
1597 4A           ld c,d
1598 D6 91        sub 91h
159A 3F           ccf
159B CB 78        bit 7,b
159D F5           push af
159E CB F8        set 7,b
15A0 38 24        jr c,.L4
15A2 3C           inc a
15A3 ED 44        neg
15A5 FE 08        cp 08h
15A7 38 06        jr c,.L2
15A9 59           ld e,c
15AA 48           ld c,b
15AB 06 00        ld b,00h
15AD D6 08        sub 08h
15AF A7           and a
15B0 57           ld d,a
15B1 7B           ld a,e
15B2 07           rlca
15B3 28 07        jr z,.L3
15B5 CB 38        srl b
15B7 CB 19        rr c
15B9 15           dec d
15BA 20 F9        jr nz,.LOOP
15BC 30 08        jr nc,.L4
15BE 03           inc bc
15BF 78           ld a,b
15C0 B1           or c
15C1 20 03        jr nz,.L4
15C3 F1           pop af
15C4 37           scf
15C5 F5           push af
15C6 C5           push bc
15C7 EF           rst RST_28
15C9 C1           pop bc
15CA F1           pop af
15CB 79           ld a,c
15CC C9           ret
15CD CD 8A 15     call SUB_158A
15D0 D8           ret c
15D1 F5           push af
15D2 05           dec b
15D3 04           inc b
15D4 28 03        jr z,.L1
15D6 F1           pop af
15D7 37           scf
15D8 C9           ret
15D9 F1           pop af
15DA C9           ret
15DB EF           rst RST_28
15E6 3E 1C        ld a,1Ch
15E8 D7           rst RST_10
15E9 C9           ret
15EC 3E 16        ld a,16h
15EE D7           rst RST_10
15EF EF           rst RST_28
15F1 7E           ld a,(hl)
15F2 CD 1D 15     call SUB_151D
15F5 EF           rst RST_28
160E 21 6B 40     ld hl,406Bh
1611 36 90        ld (hl),90h
1613 06 0A        ld b,0Ah
1615 23           inc hl
1616 E5           push hl
1617 C5           push bc
1618 EF           rst RST_28
161D CD CD 15     call SUB_15CD
1620 F6 90        or 90h
1622 C1           pop bc
1623 E1           pop hl
1624 77           ld (hl),a
1625 10 EE        djnz LBL_1615
1627 23           inc hl
1628 01 08 00     ld bc,0008h
162B E5           push hl
162C 2B           dec hl
162D 7E           ld a,(hl)
162E FE 90        cp 90h
1630 28 FA        jr z,LBL_162C
1632 ED 42        sbc hl,bc
1634 E5           push hl
1635 7E           ld a,(hl)
1636 C6 6B        add a,6Bh
1638 F5           push af
1639 F1           pop af
163A 23           inc hl
163B 7E           ld a,(hl)
163C CE 00        adc a,00h
163E 27           daa
163F F5           push af
1640 E6 0F        and 0Fh
1642 77           ld (hl),a
1643 CB FE        set 7,(hl)
1645 28 F2        jr z,LBL_1639
1647 F1           pop af
1648 E1           pop hl
1649 06 06        ld b,06h
164B 36 80        ld (hl),80h
164D 2B           dec hl
164E 10 FB        djnz .LOOP1
1650 EF           rst RST_28
1654 CD CD 15     call SUB_15CD
1657 28 02        jr z,.L3
1659 ED 44        neg
165B 5F           ld e,a
165C 1C           inc e
165D 1C           inc e
165E E1           pop hl
165F 2B           dec hl
1660 1D           dec e
1661 7E           ld a,(hl)
1662 E6 0F        and 0Fh
1664 28 F9        jr z,.LOOP2
1666 7B           ld a,e
1667 D6 05        sub 05h
1669 FE 08        cp 08h
166B F2 82 16     jp p,.L5
166E FE F6        cp 0F6h
1670 FA 82 16     jp m,.L5
1673 C6 06        add a,06h
1675 28 48        jr z,.L10
1677 FA B2 16     jp m,.L9
167A 47           ld b,a
167B CD D0 16     call SUB_16D0
167E 10 FB        djnz .LOOP3
1680 18 40        jr SUB_16C2→
1682 43           ld b,e
1683 CD D0 16     call SUB_16D0
1686 CD C2 16     call SUB_16C2→
1689 3E 2A        ld a,2Ah
168B D7           rst RST_10
168C 78           ld a,b
168D A7           and a
168E F2 98 16     jp p,.L6
1691 ED 44        neg
1693 47           ld b,a
1694 3E 16        ld a,16h
1696 18 02        jr .L7
1698 3E 15        ld a,15h
169A D7           rst RST_10
169B 78           ld a,b
169C 06 FF        ld b,0FFh
169E 04           inc b
169F D6 0A        sub 0Ah
16A1 30 FB        jr nc,.LOOP4
16A3 C6 0A        add a,0Ah
16A5 4F           ld c,a
16A6 78           ld a,b
16A7 A7           and a
16A8 28 03        jr z,.L8
16AA CD EB 07     call SUB_07EB
16AD 79           ld a,c
16AE CD EB 07     call SUB_07EB
16B1 C9           ret
16B2 ED 44        neg
16B4 47           ld b,a
16B5 3E 1B        ld a,1Bh
16B7 D7           rst RST_10
16B8 3E 1C        ld a,1Ch
16BA D7           rst RST_10
16BB 10 FD        djnz .LOOP5
16BD 18 09        jr SUB_16C2.LOOP→
16BF 3E 1C        ld a,1Ch
16C1 D7           rst RST_10→
16C2 35           dec (hl)
16C3 34           inc (hl)
16C4 E8           ret pe
16C5 3E 1B        ld a,1Bh
16C7 D7           rst RST_10
16C8 35           dec (hl)
16C9 34           inc (hl)
16CA E8           ret pe
16CB CD D0 16     call SUB_16D0
16CE 18 F8        jr .LOOP
16D0 7E           ld a,(hl)
16D1 E6 0F        and 0Fh
16D3 CD EB 07     call SUB_07EB→
16D6 2B           dec hl
16D7 C9           ret
16D8 7E           ld a,(hl)
16D9 36 00        ld (hl),00h
16DB A7           and a
16DC C8           ret z
16DD 23           inc hl
16DE CB 7E        bit 7,(hl)
16E0 CB FE        set 7,(hl)
16E2 2B           dec hl
16E3 C8           ret z
16E4 C5           push bc
16E5 01 05 00     ld bc,0005h
16E8 09           add hl,bc
16E9 41           ld b,c
16EA 4F           ld c,a
16EB 37           scf
16EC 2B           dec hl
16ED 7E           ld a,(hl)
16EE 2F           cpl
16EF CE 00        adc a,00h
16F1 77           ld (hl),a
16F2 10 F8        djnz LBL_16EC
16F4 79           ld a,c
16F5 C1           pop bc
16F6 C9           ret
16F7 E5           push hl
16F8 F5           push af
16F9 4E           ld c,(hl)
16FA 23           inc hl
16FB 46           ld b,(hl)
16FC 77           ld (hl),a
16FD 23           inc hl
16FE 79           ld a,c
16FF 4E           ld c,(hl)
1700 C5           push bc
1701 23           inc hl
1702 4E           ld c,(hl)
1703 23           inc hl
1704 46           ld b,(hl)
1705 EB           ex de,hl
1706 57           ld d,a
1707 5E           ld e,(hl)
1708 D5           push de
1709 23           inc hl
170A 56           ld d,(hl)
170B 23           inc hl
170C 5E           ld e,(hl)
170D D5           push de
170E D9           exx
170F D1           pop de
1710 E1           pop hl
1711 C1           pop bc
1712 D9           exx
1713 23           inc hl
1714 56           ld d,(hl)
1715 23           inc hl
1716 5E           ld e,(hl)
1717 F1           pop af
1718 E1           pop hl
1719 C9           ret
171A A7           and a
171B C8           ret z
171C FE 21        cp 21h
171E 30 16        jr nc,LBL_1736
1720 C5           push bc
1721 47           ld b,a
1722 D9           exx
1723 CB 2D        sra l
1725 CB 1A        rr d
1727 CB 1B        rr e
1729 D9           exx
172A CB 1A        rr d
172C CB 1B        rr e
172E 10 F2        djnz LBL_1722
1730 C1           pop bc
1731 D0           ret nc
1732 CD 41 17     call SUB_1741→
1735 C0           ret nz
1736 D9           exx
1737 AF           xor a
1738 2E 00        ld l,00h
173A 57           ld d,a
173B 5D           ld e,l
173C D9           exx
173D 11 00 00     ld de,0000h
1740 C9           ret
1741 1C           inc e
1742 C0           ret nz
1743 14           inc d
1744 C0           ret nz
1745 D9           exx
1746 1C           inc e
1747 20 01        jr nz,.L1
1749 14           inc d
174A D9           exx
174B C9           ret
174C 1A           ld a,(de)
174D A7           and a
174E C8           ret z
174F 13           inc de
1750 1A           ld a,(de)
1751 EE 80        xor 80h
1753 12           ld (de),a
1754 1B           dec de
1755 D9           exx
1756 E5           push hl
1757 D9           exx
1758 D5           push de
1759 E5           push hl
175A CD D8 16     call SUB_16D8
175D 47           ld b,a
175E EB           ex de,hl
175F CD D8 16     call SUB_16D8
1762 4F           ld c,a
1763 B8           cp b
1764 30 03        jr nc,LBL_1769
1766 78           ld a,b
1767 41           ld b,c
1768 EB           ex de,hl
1769 F5           push af
176A 90           sub b
176B CD F7 16     call SUB_16F7
176E CD 1A 17     call SUB_171A
1771 F1           pop af
1772 E1           pop hl
1773 77           ld (hl),a
1774 E5           push hl
1775 68           ld l,b
1776 61           ld h,c
1777 19           add hl,de
1778 D9           exx
1779 EB           ex de,hl
177A ED 4A        adc hl,bc
177C EB           ex de,hl
177D 7C           ld a,h
177E 8D           adc a,l
177F 6F           ld l,a
1780 1F           rra
1781 AD           xor l
1782 D9           exx
1783 EB           ex de,hl
1784 E1           pop hl
1785 1F           rra
1786 30 08        jr nc,LBL_1790
1788 3E 01        ld a,01h
178A CD 1A 17     call SUB_171A
178D 34           inc (hl)
178E 28 23        jr z,LBL_17B3
1790 D9           exx
1791 7D           ld a,l
1792 E6 80        and 80h
1794 D9           exx
1795 23           inc hl
1796 77           ld (hl),a
1797 2B           dec hl
1798 28 1F        jr z,LBL_17B9
179A 7B           ld a,e
179B ED 44        neg
179D 3F           ccf
179E 5F           ld e,a
179F 7A           ld a,d
17A0 2F           cpl
17A1 CE 00        adc a,00h
17A3 57           ld d,a
17A4 D9           exx
17A5 7B           ld a,e
17A6 2F           cpl
17A7 CE 00        adc a,00h
17A9 5F           ld e,a
17AA 7A           ld a,d
17AB 2F           cpl
17AC CE 00        adc a,00h
17AE 30 07        jr nc,LBL_17B7
17B0 1F           rra
17B1 D9           exx
17B2 34           inc (hl)
17B3 CA 80 18     jp z,SUB_1810.LOOP2→
17B6 D9           exx
17B7 57           ld d,a
17B8 D9           exx
17B9 AF           xor a
17BA 18 6C        jr SUB_1810.L3→
17C6 AF           xor a
17C7 CD BC 17     call SUB_17BC
17CA D8           ret c
17CB D9           exx
17CC E5           push hl
17CD D9           exx
17CE D5           push de
17CF EB           ex de,hl
17D0 CD BC 17     call SUB_17BC
17D3 EB           ex de,hl
17D4 38 5A        jr c,LBL_1830
17D6 E5           push hl
17D7 CD F7 16     call SUB_16F7
17DA 78           ld a,b
17DB A7           and a
17DC ED 62        sbc hl,hl
17DE D9           exx
17DF E5           push hl
17E0 ED 62        sbc hl,hl
17E2 D9           exx
17E3 06 21        ld b,21h
17E5 18 11        jr LBL_17F8
17E7 30 05        jr nc,LBL_17EE
17E9 19           add hl,de
17EA D9           exx
17EB ED 5A        adc hl,de
17ED D9           exx
17EE D9           exx
17EF CB 1C        rr h
17F1 CB 1D        rr l
17F3 D9           exx
17F4 CB 1C        rr h
17F6 CB 1D        rr l
17F8 D9           exx
17F9 CB 18        rr b
17FB CB 19        rr c
17FD D9           exx
17FE CB 19        rr c
1800 1F           rra
1801 10 E4        djnz LBL_17E7
1803 EB           ex de,hl
1804 D9           exx
1805 EB           ex de,hl
1806 D9           exx
1807 C1           pop bc
1808 E1           pop hl
1809 78           ld a,b
180A 81           add a,c
180B 20 01        jr nz,LBL_180E
180D A7           and a
180E 3D           dec a
180F 3F           ccf
1810 17           rla
1811 3F           ccf
1812 1F           rra
1813 F2 19 18     jp p,.L1
1816 30 68        jr nc,.LOOP2
1818 A7           and a
1819 3C           inc a
181A 20 08        jr nz,.L2
181C 38 06        jr c,.L2
181E D9           exx
181F CB 7A        bit 7,d
1821 D9           exx
1822 20 5C        jr nz,.LOOP2
1824 77           ld (hl),a
1825 D9           exx
1826 78           ld a,b
1827 D9           exx
1828 30 15        jr nc,.L7
182A 7E           ld a,(hl)
182B A7           and a
182C 3E 80        ld a,80h
182E 28 01        jr z,.L6
1830 AF           xor a
1831 D9           exx
1832 A2           and d
1833 CD 38 17     call SUB_1738
1836 07           rlca
1837 77           ld (hl),a
1838 38 2E        jr c,.L9
183A 23           inc hl
183B 77           ld (hl),a
183C 2B           dec hl
183D 18 29        jr .L9
183F 06 20        ld b,20h
1841 D9           exx
1842 CB 7A        bit 7,d
1844 D9           exx
1845 20 12        jr nz,.L8
1847 07           rlca
1848 CB 13        rl e
184A CB 12        rl d
184C D9           exx
184D CB 13        rl e
184F CB 12        rl d
1851 D9           exx
1852 35           dec (hl)
1853 28 D7        jr z,.L4
1855 10 EA        djnz .LOOP1
1857 18 D7        jr .L5
1859 17           rla
185A 30 0C        jr nc,.L9
185C CD 41 17     call SUB_1741
185F 20 07        jr nz,.L9
1861 D9           exx
1862 16 80        ld d,80h
1864 D9           exx
1865 34           inc (hl)
1866 28 18        jr z,.LOOP2
1868 E5           push hl
1869 23           inc hl
186A D9           exx
186B D5           push de
186C D9           exx
186D C1           pop bc
186E 78           ld a,b
186F 17           rla
1870 CB 16        rl (hl)
1872 1F           rra
1873 77           ld (hl),a
1874 23           inc hl
1875 71           ld (hl),c
1876 23           inc hl
1877 72           ld (hl),d
1878 23           inc hl
1879 73           ld (hl),e
187A E1           pop hl
187B D1           pop de
187C D9           exx
187D E1           pop hl
187E D9           exx
187F C9           ret
1880 CF           rst RST_08
1882 EB           ex de,hl
1883 AF           xor a
1884 CD BC 17     call SUB_17BC
1887 38 F7        jr c,.LOOP2
1889 EB           ex de,hl
188A CD BC 17     call SUB_17BC
188D D8           ret c
188E D9           exx
188F E5           push hl
1890 D9           exx
1891 D5           push de
1892 E5           push hl
1893 CD F7 16     call SUB_16F7
1896 D9           exx
1897 E5           push hl
1898 60           ld h,b
1899 69           ld l,c
189A D9           exx
189B 61           ld h,c
189C 68           ld l,b
189D AF           xor a
189E 06 DF        ld b,0DFh
18A0 18 10        jr .LOOP4
18A2 17           rla
18A3 CB 11        rl c
18A5 D9           exx
18A6 CB 11        rl c
18A8 CB 10        rl b
18AA D9           exx
18AB 29           add hl,hl
18AC D9           exx
18AD ED 6A        adc hl,hl
18AF D9           exx
18B0 38 10        jr c,.L10
18B2 ED 52        sbc hl,de
18B4 D9           exx
18B5 ED 52        sbc hl,de
18B7 D9           exx
18B8 30 0F        jr nc,.L11
18BA 19           add hl,de
18BB D9           exx
18BC ED 5A        adc hl,de
18BE D9           exx
18BF A7           and a
18C0 18 08        jr .L12
18C2 A7           and a
18C3 ED 52        sbc hl,de
18C5 D9           exx
18C6 ED 52        sbc hl,de
18C8 D9           exx
18C9 37           scf
18CA 04           inc b
18CB FA A2 18     jp m,.LOOP3
18CE F5           push af
18CF 28 E1        jr z,.LOOP4
18D1 5F           ld e,a
18D2 51           ld d,c
18D3 D9           exx
18D4 59           ld e,c
18D5 50           ld d,b
18D6 F1           pop af
18D7 CB 18        rr b
18D9 F1           pop af
18DA CB 18        rr b
18DC D9           exx
18DD C1           pop bc
18DE E1           pop hl
18DF 78           ld a,b
18E0 91           sub c
18E1 C3 10 18     jp LBL_1810
18E4 7E           ld a,(hl)
18E5 FE 81        cp 81h
18E7 30 06        jr nc,LBL_18EF
18E9 36 00        ld (hl),00h
18EB 3E 20        ld a,20h
18ED 18 05        jr LBL_18F4
18EF D6 A0        sub 0A0h
18F1 F0           ret p
18F2 ED 44        neg
18F4 D5           push de
18F5 EB           ex de,hl
18F6 2B           dec hl
18F7 47           ld b,a
18F8 CB 38        srl b
18FA CB 38        srl b
18FC CB 38        srl b
18FE 28 05        jr z,LBL_1905
1900 36 00        ld (hl),00h
1902 2B           dec hl
1903 10 FB        djnz LBL_1900
1905 E6 07        and 07h
1907 28 09        jr z,LBL_1912
1909 47           ld b,a
190A 3E FF        ld a,0FFh
190C CB 27        sla a
190E 10 FC        djnz LBL_190C
1910 A6           and (hl)
1911 77           ld (hl),a
1912 EB           ex de,hl
1913 D1           pop de
1914 C9           ret
199D CD 85 1B     call SUB_1B85
19A0 78           ld a,b
19A1 32 1E 40     ld (BERG),a
19A4 D9           exx
19A5 E3           ex (sp),hl
19A6 D9           exx
19A7 ED 53 1C 40  ld (STKEND),de
19AB D9           exx
19AC 7E           ld a,(hl)
19AD 23           inc hl
19AE E5           push hl
19AF A7           and a
19B0 F2 C2 19     jp p,.L1
19B3 57           ld d,a
19B4 E6 60        and 60h
19B6 0F           rrca
19B7 0F           rrca
19B8 0F           rrca
19B9 0F           rrca
19BA C6 72        add a,72h
19BC 6F           ld l,a
19BD 7A           ld a,d
19BE E6 1F        and 1Fh
19C0 18 0E        jr .L3
19C2 FE 18        cp 18h
19C4 30 08        jr nc,.L2
19C6 D9           exx
19C7 01 FB FF     ld bc,0FFFBh
19CA 54           ld d,h
19CB 5D           ld e,l
19CC 09           add hl,bc
19CD D9           exx
19CE 07           rlca
19CF 6F           ld l,a
19D0 11 23 19     ld de,1923h
19D3 26 00        ld h,00h
19D5 19           add hl,de
19D6 5E           ld e,(hl)
19D7 23           inc hl
19D8 56           ld d,(hl)
19D9 21 A7 19     ld hl,19A7h
19DC E3           ex (sp),hl
19DD D5           push de
19DE D9           exx
19DF ED 4B 1D 40  ld bc,(DATA_401D)
19E3 C9           ret
19E4 F1           pop af
19E5 3A 1E 40     ld a,(BERG)
19E8 D9           exx
19E9 18 C3        jr SUB_19AE→
19EB D5           push de
19EC E5           push hl
19ED 01 05 00     ld bc,0005h
19F0 CD C5 0E     call SUB_0EC5
19F3 E1           pop hl
19F4 D1           pop de
19F5 C9           ret
19F6 CD EB 19     call SUB_19EB
19F9 ED B0        ldir
19FB C9           ret
19FC 62           ld h,d
19FD 6B           ld l,e
19FE CD EB 19     call SUB_19EB
1A01 D9           exx
1A02 E5           push hl
1A03 D9           exx
1A04 E3           ex (sp),hl
1A05 C5           push bc
1A06 7E           ld a,(hl)
1A07 E6 C0        and 0C0h
1A09 07           rlca
1A0A 07           rlca
1A0B 4F           ld c,a
1A0C 0C           inc c
1A0D 7E           ld a,(hl)
1A0E E6 3F        and 3Fh
1A10 20 02        jr nz,LBL_1A14
1A12 23           inc hl
1A13 7E           ld a,(hl)
1A14 C6 50        add a,50h
1A16 12           ld (de),a
1A17 3E 05        ld a,05h
1A19 91           sub c
1A1A 23           inc hl
1A1B 13           inc de
1A1C 06 00        ld b,00h
1A1E ED B0        ldir
1A20 C1           pop bc
1A21 E3           ex (sp),hl
1A22 D9           exx
1A23 E1           pop hl
1A24 D9           exx
1A25 47           ld b,a
1A26 AF           xor a
1A27 05           dec b
1A28 C8           ret z
1A29 12           ld (de),a
1A2A 13           inc de
1A2B 18 FA        jr LBL_1A27
1A2D A7           and a
1A2E C8           ret z
1A2F F5           push af
1A30 D5           push de
1A31 11 00 00     ld de,0000h
1A34 CD FE 19     call SUB_19FE
1A37 D1           pop de
1A38 F1           pop af
1A39 3D           dec a
1A3A 18 F2        jr LBL_1A2E
1A3C 4F           ld c,a
1A3D 07           rlca
1A3E 07           rlca
1A3F 81           add a,c
1A40 4F           ld c,a
1A41 06 00        ld b,00h
1A43 09           add hl,bc
1A44 C9           ret
1A45 D5           push de
1A46 2A 1F 40     ld hl,(MEM)
1A49 CD 3C 1A     call SUB_1A3C
1A4C CD F6 19     call SUB_19F6
1A4F E1           pop hl
1A50 C9           ret
1A51 62           ld h,d
1A52 6B           ld l,e
1A53 D9           exx
1A54 E5           push hl
1A55 21 15 19     ld hl,1915h
1A58 D9           exx
1A59 CD 2D 1A     call SUB_1A2D
1A5C CD FE 19     call SUB_19FE
1A5F D9           exx
1A60 E1           pop hl
1A61 D9           exx
1A62 C9           ret
1A63 E5           push hl
1A64 EB           ex de,hl
1A65 2A 1F 40     ld hl,(MEM)
1A68 CD 3C 1A     call SUB_1A3C
1A6B EB           ex de,hl
1A6C CD F6 19     call SUB_19F6
1A6F EB           ex de,hl
1A70 E1           pop hl
1A71 C9           ret
1A72 06 05        ld b,05h
1A74 1A           ld a,(de)
1A75 4E           ld c,(hl)
1A76 EB           ex de,hl
1A77 12           ld (de),a
1A78 71           ld (hl),c
1A79 23           inc hl
1A7A 13           inc de
1A7B 10 F7        djnz LBL_1A74
1A7D EB           ex de,hl
1A7E C9           ret
1A7F 47           ld b,a
1A80 CD A0 19     call SUB_19A0
1A90 CD FC 19     call SUB_19FC
1A93 CD A4 19     call SUB_19A4
1A9F C9           ret
1AA0 7E           ld a,(hl)
1AA1 A7           and a
1AA2 C8           ret z
1AA3 23           inc hl
1AA4 7E           ld a,(hl)
1AA5 EE 80        xor 80h
1AA7 77           ld (hl),a
1AA8 2B           dec hl
1AA9 C9           ret
1AAA 23           inc hl
1AAB CB BE        res 7,(hl)
1AAD 2B           dec hl
1AAE C9           ret
1AAF 23           inc hl
1AB0 7E           ld a,(hl)
1AB1 2B           dec hl
1AB2 35           dec (hl)
1AB3 34           inc (hl)
1AB4 37           scf
1AB5 C4 E0 1A     call nz,SUB_1AE0→
1AB8 23           inc hl
1AB9 07           rlca
1ABA CB 1E        rr (hl)
1ABC 2B           dec hl
1ABD C9           ret
1ABE CD A7 0E     call SUB_0EA7
1AC1 0A           ld a,(bc)
1AC2 C3 1D 15     jp SUB_151D→
1AC5 CD A7 0E     call SUB_0EA7
1AC8 21 20 15     ld hl,1520h
1ACB E5           push hl
1ACC C5           push bc
1ACD C9           ret
1ACE 7E           ld a,(hl)
1ACF A7           and a
1AD0 C8           ret z
1AD1 3E FF        ld a,0FFh
1AD3 18 07        jr SUB_1ADC→
1AD5 7E           ld a,(hl)
1AD6 ED 44        neg
1AD8 3F           ccf
1AD9 18 05        jr SUB_1AE0→
1ADB AF           xor a
1ADC 23           inc hl
1ADD AE           xor (hl)
1ADE 2B           dec hl
1ADF 07           rlca
1AE0 E5           push hl
1AE1 06 05        ld b,05h
1AE3 36 00        ld (hl),00h
1AE5 23           inc hl
1AE6 10 FB        djnz .LOOP
1AE8 E1           pop hl
1AE9 D0           ret nc
1AEA 36 81        ld (hl),81h
1AEC C9           ret
1AED 1A           ld a,(de)
1AEE A7           and a
1AEF C8           ret z
1AF0 37           scf
1AF1 18 ED        jr SUB_1AE0→
1AF3 1A           ld a,(de)
1AF4 A7           and a
1AF5 C0           ret nz
1AF6 18 E8        jr SUB_1AE0→
1AF8 1A           ld a,(de)
1AF9 A7           and a
1AFA C0           ret nz
1AFB D5           push de
1AFC 1B           dec de
1AFD AF           xor a
1AFE 12           ld (de),a
1AFF 1B           dec de
1B00 12           ld (de),a
1B01 D1           pop de
1B02 C9           ret
1B03 78           ld a,b
1B04 D6 08        sub 08h
1B06 CB 57        bit 2,a
1B08 20 01        jr nz,LBL_1B0B
1B0A 3D           dec a
1B0B 0F           rrca
1B0C 30 08        jr nc,LBL_1B16
1B0E F5           push af
1B0F E5           push hl
1B10 CD 72 1A     call SUB_1A72
1B13 D1           pop de
1B14 EB           ex de,hl
1B15 F1           pop af
1B16 CB 57        bit 2,a
1B18 20 07        jr nz,LBL_1B21
1B1A 0F           rrca
1B1B F5           push af
1B1C CD 4C 17     call SUB_174C
1B1F 18 33        jr LBL_1B54
1B21 0F           rrca
1B22 F5           push af
1B23 CD F8 13     call SUB_13F8
1B26 D5           push de
1B27 C5           push bc
1B28 CD F8 13     call SUB_13F8
1B2B E1           pop hl
1B2C 7C           ld a,h
1B2D B5           or l
1B2E E3           ex (sp),hl
1B2F 78           ld a,b
1B30 20 0B        jr nz,LBL_1B3D
1B32 B1           or c
1B33 C1           pop bc
1B34 28 04        jr z,LBL_1B3A
1B36 F1           pop af
1B37 3F           ccf
1B38 18 16        jr LBL_1B50
1B3A F1           pop af
1B3B 18 13        jr LBL_1B50
1B3D B1           or c
1B3E 28 0D        jr z,LBL_1B4D
1B40 1A           ld a,(de)
1B41 96           sub (hl)
1B42 38 09        jr c,LBL_1B4D
1B44 20 ED        jr nz,LBL_1B33
1B46 0B           dec bc
1B47 13           inc de
1B48 23           inc hl
1B49 E3           ex (sp),hl
1B4A 2B           dec hl
1B4B 18 DF        jr LBL_1B2C
1B4D C1           pop bc
1B4E F1           pop af
1B4F A7           and a
1B50 F5           push af
1B51 EF           rst RST_28
1B54 F1           pop af
1B55 F5           push af
1B56 DC D5 1A     call c,SUB_1AD5
1B59 CD CE 1A     call SUB_1ACE
1B5C F1           pop af
1B5D 0F           rrca
1B5E D4 D5 1A     call nc,SUB_1AD5
1B61 C9           ret
1B62 CD F8 13     call SUB_13F8
1B65 D5           push de
1B66 C5           push bc
1B67 CD F8 13     call SUB_13F8
1B6A E1           pop hl
1B6B E5           push hl
1B6C D5           push de
1B6D C5           push bc
1B6E 09           add hl,bc
1B6F 44           ld b,h
1B70 4D           ld c,l
1B71 F7           rst RST_30
1B72 CD C3 12     call SUB_12C3
1B75 C1           pop bc
1B76 E1           pop hl
1B77 78           ld a,b
1B78 B1           or c
1B79 28 02        jr z,LBL_1B7D
1B7B ED B0        ldir
1B7D C1           pop bc
1B7E E1           pop hl
1B7F 78           ld a,b
1B80 B1           or c
1B81 28 02        jr z,SUB_1B85
1B83 ED B0        ldir
1B85 2A 1C 40     ld hl,(STKEND)
1B88 11 FB FF     ld de,0FFFBh
1B8B E5           push hl
1B8C 19           add hl,de
1B8D D1           pop de
1B8E C9           ret
1B8F CD CD 15     call SUB_15CD
1B92 38 0E        jr c,LBL_1BA2
1B94 20 0C        jr nz,LBL_1BA2
1B96 F5           push af
1B97 01 01 00     ld bc,0001h
1B9A F7           rst RST_30
1B9B F1           pop af
1B9C 12           ld (de),a
1B9D CD C3 12     call SUB_12C3
1BA0 EB           ex de,hl
1BA1 C9           ret
1BA2 CF           rst RST_08
1BA4 2A 16 40     ld hl,(CH_ADD)
1BA7 E5           push hl
1BA8 CD F8 13     call SUB_13F8
1BAB D5           push de
1BAC 03           inc bc
1BAD F7           rst RST_30
1BAE E1           pop hl
1BAF ED 53 16 40  ld (CH_ADD),de
1BB3 D5           push de
1BB4 ED B0        ldir
1BB6 EB           ex de,hl
1BB7 2B           dec hl
1BB8 36 76        ld (hl),76h
1BBA FD CB 01 BE  res 7,(iy+1)
1BBE CD 92 0D     call SUB_0D92
1BC1 CD 22 0D     call SUB_0D22
1BC4 E1           pop hl
1BC5 22 16 40     ld (CH_ADD),hl
1BC8 FD CB 01 FE  set 7,(iy+1)
1BCC CD 55 0F     call SUB_0F55
1BCF E1           pop hl
1BD0 22 16 40     ld (CH_ADD),hl
1BD3 18 B0        jr SUB_1B85→
1BD5 01 01 00     ld bc,0001h
1BD8 F7           rst RST_30
1BD9 36 76        ld (hl),76h
1BDB 2A 39 40     ld hl,(S_POSN)
1BDE E5           push hl
1BDF 2E FF        ld l,0FFh
1BE1 22 39 40     ld (S_POSN),hl
1BE4 2A 0E 40     ld hl,(DF_CC)
1BE7 E5           push hl
1BE8 ED 53 0E 40  ld (DF_CC),de
1BEC D5           push de
1BED CD DB 15     call SUB_15DB
1BF0 D1           pop de
1BF1 2A 0E 40     ld hl,(DF_CC)
1BF4 A7           and a
1BF5 ED 52        sbc hl,de
1BF7 44           ld b,h
1BF8 4D           ld c,l
1BF9 E1           pop hl
1BFA 22 0E 40     ld (DF_CC),hl
1BFD E1           pop hl
1BFE 22 39 40     ld (S_POSN),hl
1C01 CD C3 12     call SUB_12C3
1C04 EB           ex de,hl
1C05 C9           ret
1C06 CD F8 13     call SUB_13F8
1C09 78           ld a,b
1C0A B1           or c
1C0B 28 01        jr z,LBL_1C0E
1C0D 1A           ld a,(de)
1C0E C3 1D 15     jp SUB_151D→
1C11 CD F8 13     call SUB_13F8
1C14 C3 20 15     jp SUB_1520→
1C17 D9           exx
1C18 E5           push hl
1C19 21 1E 40     ld hl,BERG
1C1C 35           dec (hl)
1C1D E1           pop hl
1C1E 20 04        jr nz,SUB_1C24→
1C20 23           inc hl
1C21 D9           exx
1C22 C9           ret
1C24 5E           ld e,(hl)
1C25 AF           xor a
1C26 CB 7B        bit 7,e
1C28 28 01        jr z,.L1
1C2A 2F           cpl
1C2B 57           ld d,a
1C2C 19           add hl,de
1C2D D9           exx
1C2E C9           ret
1C2F 1A           ld a,(de)
1C30 A7           and a
1C31 20 F0        jr nz,SUB_1C23→
1C33 D9           exx
1C34 23           inc hl
1C35 D9           exx
1C36 C9           ret
1C45 C9           ret
1C4D C9           ret
1C5A C9           ret
1C8F CD CD 15     call SUB_15CD
1C92 20 07        jr nz,LBL_1C9B
1C94 38 03        jr c,LBL_1C99
1C96 86           add a,(hl)
1C97 30 09        jr nc,LBL_1CA2
1C9B 38 07        jr c,LBL_1CA4
1C9D 96           sub (hl)
1C9E 30 04        jr nc,LBL_1CA4
1CA0 ED 44        neg
1CA2 77           ld (hl),a
1CA3 C9           ret
1CA4 EF           rst RST_28
1CA8 C9           ret
1CA9 EF           rst RST_28
1CAF CF           rst RST_08
1CB4 7E           ld a,(hl)
1CB5 36 80        ld (hl),80h
1CB7 CD 1D 15     call SUB_151D
1CBA EF           rst RST_28
1CD0 34           INC     (HL)
1CD1 EF           rst RST_28
1D17 C9           ret
1D18 EF           RST     28H
1D34 C9           ret
1D3D C9           ret
1D3E EF           RST     28H
1D49 EF           RST     28H
1D6D C9           ret
1D6E EF           RST     28H
1D75 C9           ret
1D76 7E           ld a,(hl)
1D77 FE 81        cp 81h
1D79 38 0E        jr c,LBL_1D80.L1→
1D7B EF           rst RST_28
1D89 EF           RST     28H
1DC3 C9           ret
1DC4 EF           RST     28H
1DD3 C9           ret
1DD4 EF           RST     28H
1DDA C9           ret
1DDB EF           RST     28H
1DE2 EF           RST     28H
1DED C9           ret
1DFE C9           ret
4001 00
4002 00 00
4004 00
4005 00
4006 00 00 00 00
400A 6F 17
400C 0E 7B
400E 9B 7C
4010 27 7E 70 7E
4014 2F 8A
4016 9F 5B
4018 94 C0
401A 2F 8A
401C 2F 8A 00
401F 5D 40 00
4022 00
4023 6E 17
4025 FF FF
4027 FF
4028 37 A0 5B...  DEFB 37 A0 5B FE FF 00 71 E2 ; ASCII: 7?[???Q?
4034 22 99 00 00
4038 BC
4039 21 0C 40...  DEFB 21 0C 40 00 00 00 00 00 ; ASCII: !?@?????
; Note: The address 0C00Fh is in a different bank.
< >
